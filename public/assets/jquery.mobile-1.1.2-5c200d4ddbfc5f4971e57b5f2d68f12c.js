/*
* jQuery Mobile Framework 1.1.2 9a15f1aaf99faa7913103f5ea19ef6959b73d763
* http://jquerymobile.com
*
* Copyright 2010, 2013 jQuery Foundation, Inc. and other contributors
* Released under the MIT license.
* http://jquery.org/license
*
*/
!function(e,t,n){"function"==typeof define&&define.amd?define(["jquery"],function(i){return n(i,e,t),i.mobile}):n(e.jQuery,e,t)}(this,document,function(e,t,n,a){!function(e,t,n,i){function a(e){for(;e&&"undefined"!=typeof e.originalEvent;)e=e.originalEvent;return e}function o(t,n){var o,r,s,l,c,u,d,h,p=t.type;if(t=e.Event(t),t.type=n,o=t.originalEvent,r=e.event.props,p.search(/^(mouse|click)/)>-1&&(r=k),o)for(d=r.length,l;d;)l=r[--d],t[l]=o[l];if(p.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),-1!==p.search(/^touch/)&&(s=a(o),p=s.touches,c=s.changedTouches,u=p&&p.length?p[0]:c&&c.length?c[0]:i))for(h=0,len=_.length;len>h;h++)l=_[h],t[l]=u[l];return t}function r(t){for(var n,i,a={};t;){n=e.data(t,w);for(i in n)n[i]&&(a[i]=a.hasVirtualBinding=!0);t=t.parentNode}return a}function s(t,n){for(var i;t;){if(i=e.data(t,w),i&&(!n||i[n]))return t;t=t.parentNode}return null}function l(){H=!1}function c(){H=!0}function u(){B=0,q.length=0,O=!1,c()}function d(){l()}function h(){p(),N=setTimeout(function(){N=0,u()},e.vmouse.resetTimerDuration)}function p(){N&&(clearTimeout(N),N=0)}function f(t,n,i){var a;return(i&&i[t]||!i&&s(n.target,t))&&(a=o(n,t),e(n.target).trigger(a)),a}function m(t){var n=e.data(t.target,E);if(!(O||B&&B===n)){var i=f("v"+t.type,t);i&&(i.isDefaultPrevented()&&t.preventDefault(),i.isPropagationStopped()&&t.stopPropagation(),i.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}}function g(t){var n,i,o=a(t).touches;if(o&&1===o.length&&(n=t.target,i=r(n),i.hasVirtualBinding)){B=R++,e.data(n,E,B),p(),d(),j=!1;var s=a(t).touches[0];A=s.pageX,I=s.pageY,f("vmouseover",t,i),f("vmousedown",t,i)}}function v(e){H||(j||f("vmousecancel",e,r(e.target)),j=!0,h())}function b(t){if(!H){var n=a(t).touches[0],i=j,o=e.vmouse.moveDistanceThreshold;j=j||Math.abs(n.pageX-A)>o||Math.abs(n.pageY-I)>o,flags=r(t.target),j&&!i&&f("vmousecancel",t,flags),f("vmousemove",t,flags),h()}}function y(e){if(!H){c();var t,n=r(e.target);if(f("vmouseup",e,n),!j){var i=f("vclick",e,n);i&&i.isDefaultPrevented()&&(t=a(e).changedTouches[0],q.push({touchID:B,x:t.clientX,y:t.clientY}),O=!0)}f("vmouseout",e,n),j=!1,h()}}function x(t){var n,i=e.data(t,w);if(i)for(n in i)if(i[n])return!0;return!1}function C(){}function T(t){var n=t.substr(1);return{setup:function(){x(this)||e.data(this,w,{});var i=e.data(this,w);i[t]=!0,S[t]=(S[t]||0)+1,1===S[t]&&L.bind(n,m),e(this).bind(n,C),M&&(S.touchstart=(S.touchstart||0)+1,1===S.touchstart&&L.bind("touchstart",g).bind("touchend",y).bind("touchmove",b).bind("scroll",v))},teardown:function(){--S[t],S[t]||L.unbind(n,m),M&&(--S.touchstart,S.touchstart||L.unbind("touchstart",g).unbind("touchmove",b).unbind("touchend",y).unbind("scroll",v));var i=e(this),a=e.data(this,w);a&&(a[t]=!1),i.unbind(n,C),x(this)||i.removeData(w)}}}var w="virtualMouseBindings",E="virtualTouchID",P="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),_="clientX clientY pageX pageY screenX screenY".split(" "),D=e.event.mouseHooks?e.event.mouseHooks.props:[],k=e.event.props.concat(D),S={},N=0,A=0,I=0,j=!1,q=[],O=!1,H=!1,M="addEventListener"in n,L=e(n),R=1,B=0;e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var F=0;F<P.length;F++)e.event.special[P[F]]=T(P[F]);M&&n.addEventListener("click",function(t){var n,i,a,o,r,s,l=q.length,c=t.target;if(l)for(n=t.clientX,i=t.clientY,threshold=e.vmouse.clickDistanceThreshold,a=c;a;){for(o=0;l>o;o++)if(r=q[o],s=0,a===c&&Math.abs(r.x-n)<threshold&&Math.abs(r.y-i)<threshold||e.data(a,E)===r.touchID)return t.preventDefault(),t.stopPropagation(),void 0;a=a.parentNode}},!0)}(e,t,n),// Copyright (c) 2010 "Cowboy" Ben Alman,
function(e,t,i){function a(e){return e=e||location.href,"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}var o,r="hashchange",s=n,l=e.event.special,c=s.documentMode,u="on"+r in t&&(c===i||c>7);e.fn[r]=function(e){return e?this.bind(r,e):this.trigger(r)},e.fn[r].delay=50,l[r]=e.extend(l[r],{setup:function(){return u?!1:(e(o.start),void 0)},teardown:function(){return u?!1:(e(o.stop),void 0)}}),o=function(){function n(){var i=a(),s=d(l);i!==l?(u(l=i,s),e(t).trigger(r)):s!==l&&(location.href=location.href.replace(/#.*/,"")+s),o=setTimeout(n,e.fn[r].delay)}var o,s={},l=a(),c=function(e){return e},u=c,d=c;return s.start=function(){o||n()},s.stop=function(){o&&clearTimeout(o),o=i},s}()}(e,this),/*!
 * jQuery UI Widget @VERSION
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
function(e,t){if(e.cleanData){var n=e.cleanData;e.cleanData=function(t){for(var i,a=0;null!=(i=t[a]);a++)e(i).triggerHandler("remove");n(t)}}else{var i=e.fn.remove;e.fn.remove=function(t,n){return this.each(function(){return n||(!t||e.filter(t,[this]).length)&&e("*",this).add([this]).each(function(){e(this).triggerHandler("remove")}),i.call(e(this),t,n)})}}e.widget=function(t,n,i){var a,o=t.split(".")[0];t=t.split(".")[1],a=o+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][a]=function(n){return!!e.data(n,t)},e[o]=e[o]||{},e[o][t]=function(e,t){arguments.length&&this._createWidget(e,t)};var r=new n;r.options=e.extend(!0,{},r.options),e[o][t].prototype=e.extend(!0,r,{namespace:o,widgetName:t,widgetEventPrefix:e[o][t].prototype.widgetEventPrefix||t,widgetBaseClass:a},i),e.widget.bridge(t,e[o][t])},e.widget.bridge=function(n,i){e.fn[n]=function(a){var o="string"==typeof a,r=Array.prototype.slice.call(arguments,1),s=this;return a=!o&&r.length?e.extend.apply(null,[!0,a].concat(r)):a,o&&"_"===a.charAt(0)?s:(o?this.each(function(){var i=e.data(this,n);if(!i)throw"cannot call methods on "+n+" prior to initialization; attempted to call method '"+a+"'";if(!e.isFunction(i[a]))throw"no such method '"+a+"' for "+n+" widget instance";var o=i[a].apply(i,r);return o!==i&&o!==t?(s=o,!1):void 0}):this.each(function(){var t=e.data(this,n);t?t.option(a||{})._init():e.data(this,n,new i(a,this))}),s)}},e.Widget=function(e,t){arguments.length&&this._createWidget(e,t)},e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(t,n){e.data(n,this.widgetName,this),this.element=e(n),this.options=e.extend(!0,{},this.options,this._getCreateOptions(),t);var i=this;this.element.bind("remove."+this.widgetName,function(){i.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){var t={};return e.metadata&&(t=e.metadata.get(element)[this.widgetName]),t},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(n,i){var a=n;if(0===arguments.length)return e.extend({},this.options);if("string"==typeof n){if(i===t)return this.options[n];a={},a[n]=i}return this._setOptions(a),this},_setOptions:function(t){var n=this;return e.each(t,function(e,t){n._setOption(e,t)}),this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(t,n,i){var a=this.options[t];if(n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i=i||{},n.originalEvent)for(var o,r=e.event.props.length;r;)o=e.event.props[--r],n[o]=n.originalEvent[o];return this.element.trigger(n,i),!(e.isFunction(a)&&a.call(this.element[0],n,i)===!1||n.isDefaultPrevented())}}}(e),function(e,t){e.widget("mobile.widget",{_createWidget:function(){e.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_getCreateOptions:function(){var n=this.element,i={};return e.each(this.options,function(e){var a=n.jqmData(e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}));a!==t&&(i[e]=a)}),i},enhanceWithin:function(t,n){this.enhance(e(this.options.initSelector,e(t)),n)},enhance:function(t,n){var i,a,o=e(t);o=e.mobile.enhanceable(o),n&&o.length&&(i=e.mobile.closestPageData(o),a=i&&i.keepNativeSelector()||"",o=o.not(a)),o[this.widgetName]()},raise:function(e){throw"Widget ["+this.widgetName+"]: "+e}})}(e),function(e,t,i){var a={};e.mobile=e.extend({},{version:"1.1.2",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:250,touchOverflowEnabled:!1,defaultDialogTransition:"pop",loadingMessage:"loading",pageLoadErrorMessage:"Error Loading Page",loadingMessageTextVisible:!1,loadingMessageTheme:"a",pageLoadErrorMessageTheme:"e",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,orientationChangeEnabled:!0,buttonMarkup:{hoverDelay:200},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},silentScroll:function(i){"number"!==e.type(i)&&(i=e.mobile.defaultHomeScroll),e.event.special.scrollstart.enabled=!1,setTimeout(function(){t.scrollTo(0,i),e(n).trigger("silentscroll",{x:0,y:i})},20),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},nsNormalizeDict:a,nsNormalize:function(t){return t?a[t]||(a[t]=e.camelCase(e.mobile.ns+t)):void 0},getInheritedTheme:function(e,t){for(var n,i,a=e[0],o="",r=/ui-(bar|body|overlay)-([a-z])\b/;a&&(n=a.className||"",!(n&&(i=r.exec(n))&&(o=i[2])));)a=a.parentNode;return o||t||"a"},closestPageData:function(e){return e.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("page")},enhanceable:function(e){return this.haveParents(e,"enhance")},hijackable:function(e){return this.haveParents(e,"ajax")},haveParents:function(t,n){if(!e.mobile.ignoreContentEnabled)return t;for(var i,a,o,r=t.length,s=e(),l=0;r>l;l++){for(a=t.eq(l),o=!1,i=t[l];i;){var c=i.getAttribute?i.getAttribute("data-"+e.mobile.ns+n):"";if("false"===c){o=!0;break}i=i.parentNode}o||(s=s.add(a))}return s},getScreenHeight:function(){return t.innerHeight||e(t).height()}},e.mobile),e.fn.jqmData=function(t,n){var a;return"undefined"!=typeof t&&(t&&(t=e.mobile.nsNormalize(t)),a=arguments.length<2||n===i?this.data(t):this.data(t,n)),a},e.jqmData=function(t,n,i){var a;return"undefined"!=typeof n&&(a=e.data(t,n?e.mobile.nsNormalize(n):n,i)),a},e.fn.jqmRemoveData=function(t){return this.removeData(e.mobile.nsNormalize(t))},e.jqmRemoveData=function(t,n){return e.removeData(t,e.mobile.nsNormalize(n))},e.fn.removeWithDependents=function(){e.removeWithDependents(this)},e.removeWithDependents=function(t){var n=e(t);(n.jqmData("dependents")||e()).remove(),n.remove()},e.fn.addDependents=function(t){e.addDependents(e(this),t)},e.addDependents=function(t,n){var i=e(t).jqmData("dependents")||e();e(t).jqmData("dependents",e.merge(i,n))},e.fn.getEncodedText=function(){return e("<div/>").text(e(this).text()).html()},e.fn.jqmEnhanceable=function(){return e.mobile.enhanceable(this)},e.fn.jqmHijackable=function(){return e.mobile.hijackable(this)};var o=e.find,r=/:jqmData\(([^)]*)\)/g;e.find=function(t,n,i,a){return t=t.replace(r,"[data-"+(e.mobile.ns||"")+"$1]"),o.call(this,t,n,i,a)},e.extend(e.find,o),e.find.matches=function(t,n){return e.find(t,null,null,n)},e.find.matchesSelector=function(t,n){return e.find(n,null,null,[t]).length>0}}(e,this),function(e){var i=(e(t),e("html"));e.mobile.media=function(){var t={},a=e("<div id='jquery-mediatest'></div>"),o=e("<body>").append(a);return function(e){if(!(e in t)){var r=n.createElement("style"),s="@media "+e+" { #jquery-mediatest { position:absolute; } }";r.type="text/css",r.styleSheet?r.styleSheet.cssText=s:r.appendChild(n.createTextNode(s)),i.prepend(o).prepend(r),t[e]="absolute"===a.css("position"),o.add(r).remove()}return t[e]}}()}(e),function(e,a){function o(e){var t=e.charAt(0).toUpperCase()+e.substr(1),n=(e+" "+h.join(t+" ")+t).split(" ");for(var i in n)if(d[n[i]]!==a)return!0}function r(e,t,a){var o,r=n.createElement("div"),s=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},l=function(e){return"-"+e.charAt(0).toLowerCase()+e.substr(1)+"-"},c=function(n){var i=l(n)+e+": "+t+";",a=s(n),c=a+s(e);r.setAttribute("style",i),r.style[c]&&(o=!0)},u=a?[a]:h;for(i=0;i<u.length;i++)c(u[i]);return!!o}function s(){var t="transform-3d";return r("perspective","10px","moz")||e.mobile.media("(-"+h.join("-"+t+"),(-")+"-"+t+"),("+t+")")}function l(){var t,n,i=location.protocol+"//"+location.host+location.pathname+"ui-dir/",a=e("head base"),o=null,r="";return a.length?r=a.attr("href"):a=o=e("<base>",{href:i}).appendTo("head"),t=e("<a href='testurl' />").prependTo(u),n=t[0].href,a[0].href=r||location.pathname,o&&o.remove(),0===n.indexOf(i)}function c(){var e,i=n.createElement("x"),a=n.documentElement,o=t.getComputedStyle;return"pointerEvents"in i.style?(i.style.pointerEvents="auto",i.style.pointerEvents="x",a.appendChild(i),e=o&&"auto"===o(i,"").pointerEvents,a.removeChild(i),!!e):!1}var u=e("<body>").prependTo("html"),d=u[0].style,h=["Webkit","Moz","O"],p="palmGetResource"in t,f=t.opera,m=t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini),g=t.blackberry;e.extend(e.mobile,{browser:{}}),e.mobile.browser.ie=function(){for(var e=3,t=n.createElement("div"),i=t.all||[];t.innerHTML="<!--[if gt IE "+ ++e+"]><br><![endif]-->",i[0];);return e>4?e:!e}(),e.extend(e.support,{orientation:"orientation"in t&&"onorientationchange"in t,touch:"ontouchend"in n,cssTransitions:"WebKitTransitionEvent"in t||r("transition","height 100ms linear")&&!f,pushState:"pushState"in history&&"replaceState"in history,mediaquery:e.mobile.media("only all"),cssPseudoElement:!!o("content"),touchOverflow:!!o("overflowScrolling"),cssTransform3d:s(),boxShadow:!!o("boxShadow")&&!g,scrollTop:("pageXOffset"in t||"scrollTop"in n.documentElement||"scrollTop"in u[0])&&!p&&!m,dynamicBaseTag:l(),cssPointerEvents:c()}),u.remove();var v=function(){var e=t.navigator.userAgent;return e.indexOf("Nokia")>-1&&(e.indexOf("Symbian/3")>-1||e.indexOf("Series60/5")>-1)&&e.indexOf("AppleWebKit")>-1&&e.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();e.mobile.gradeA=function(){return e.support.mediaquery||e.mobile.browser.ie&&e.mobile.browser.ie>=7},e.mobile.ajaxBlacklist=t.blackberry&&!t.WebKitPoint||m||v,v&&e(function(){e("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),e.support.boxShadow||e("html").addClass("ui-mobile-nosupport-boxshadow")}(e),function(t,i,a){function o(e,n,i){var a=i.type;i.type=n,t.event.handle.call(e,i),i.type=a}t.each("touchstart touchmove touchend orientationchange throttledresize tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(e,n){t.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},t.attrFn[n]=!0});var r=t.support.touch,s="touchmove scroll",l=r?"touchstart":"mousedown",c=r?"touchend":"mouseup",u=r?"touchmove":"mousemove";t.event.special.scrollstart={enabled:!0,setup:function(){function e(e,t){n=t,o(a,n?"scrollstart":"scrollstop",e)}var n,i,a=this,r=t(a);r.bind(s,function(a){t.event.special.scrollstart.enabled&&(n||e(a,!0),clearTimeout(i),i=setTimeout(function(){e(a,!1)},50))})}},t.event.special.tap={setup:function(){var e=this,i=t(e);i.bind("vmousedown",function(a){function r(){clearTimeout(c)}function s(){r(),i.unbind("vclick",l).unbind("vmouseup",r),t(n).unbind("vmousecancel",s)}function l(t){s(),u==t.target&&o(e,"tap",t)}if(a.which&&1!==a.which)return!1;{var c,u=a.target;a.originalEvent}i.bind("vmouseup",r).bind("vclick",l),t(n).bind("vmousecancel",s),c=setTimeout(function(){o(e,"taphold",t.Event("taphold",{target:u}))},750)})}},t.event.special.swipe={scrollSupressionThreshold:10,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var e=this,n=t(e);n.bind(l,function(e){function i(e){if(s){var n=e.originalEvent.touches?e.originalEvent.touches[0]:e;o={time:(new Date).getTime(),coords:[n.pageX,n.pageY]},Math.abs(s.coords[0]-o.coords[0])>t.event.special.swipe.scrollSupressionThreshold&&e.preventDefault()}}var o,r=e.originalEvent.touches?e.originalEvent.touches[0]:e,s={time:(new Date).getTime(),coords:[r.pageX,r.pageY],origin:t(e.target)};n.bind(u,i).one(c,function(){n.unbind(u,i),s&&o&&o.time-s.time<t.event.special.swipe.durationThreshold&&Math.abs(s.coords[0]-o.coords[0])>t.event.special.swipe.horizontalDistanceThreshold&&Math.abs(s.coords[1]-o.coords[1])<t.event.special.swipe.verticalDistanceThreshold&&s.origin.trigger("swipe").trigger(s.coords[0]>o.coords[0]?"swipeleft":"swiperight"),s=o=a})})}},function(e,t){function i(){var e=o();e!==r&&(r=e,c.trigger("orientationchange"))}var a,o,r,s,l,c=e(t),u={0:!0,180:!0};if(e.support.orientation){var d=t.innerWidth||e(t).width(),h=t.innerHeight||e(t).height(),p=50;s=d>h&&d-h>p,l=u[t.orientation],(s&&l||!s&&!l)&&(u={"-90":!0,90:!0})}e.event.special.orientationchange=a={setup:function(){return e.support.orientation&&e.mobile.orientationChangeEnabled?!1:(r=o(),c.bind("throttledresize",i),void 0)},teardown:function(){return e.support.orientation&&e.mobile.orientationChangeEnabled?!1:(c.unbind("throttledresize",i),void 0)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=o(),t.apply(this,arguments)}}},e.event.special.orientationchange.orientation=o=function(){var i=!0,a=n.documentElement;return i=e.support.orientation?u[t.orientation]:a&&a.clientWidth/a.clientHeight<1.1,i?"portrait":"landscape"}}(e,i),function(){t.event.special.throttledresize={setup:function(){t(this).bind("resize",o)},teardown:function(){t(this).unbind("resize",o)}};var e,n,i,a=250,o=function(){n=(new Date).getTime(),i=n-r,i>=a?(r=n,t(this).trigger("throttledresize")):(e&&clearTimeout(e),e=setTimeout(o,a-i))},r=0}(),t.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(e,n){t.event.special[e]={setup:function(){t(this).bind(n,t.noop)}}})}(e,this),function(e){e.widget("mobile.page",e.mobile.widget,{options:{theme:"c",domCache:!1,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){var e=this;return e._trigger("beforecreate")===!1?!1:(e.element.attr("tabindex","0").addClass("ui-page ui-body-"+e.options.theme).bind("pagebeforehide",function(){e.removeContainerBackground()}).bind("pagebeforeshow",function(){e.setContainerBackground()}),void 0)},removeContainerBackground:function(){e.mobile.pageContainer.removeClass("ui-overlay-"+e.mobile.getInheritedTheme(this.element.parent()))},setContainerBackground:function(t){this.options.theme&&e.mobile.pageContainer.addClass("ui-overlay-"+(t||this.options.theme))},keepNativeSelector:function(){var t=this.options,n=t.keepNative&&e.trim(t.keepNative);return n&&t.keepNative!==t.keepNativeDefault?[t.keepNative,t.keepNativeDefault].join(", "):t.keepNativeDefault}})}(e),function(e,t,n){var i=function(i){return i===n&&(i=!0),function(n,a,o,r){var s=new e.Deferred,l=a?" reverse":"",c=e.mobile.urlHistory.getActive(),u=c.lastScroll||e.mobile.defaultHomeScroll,d=e.mobile.getScreenHeight(),h=e.mobile.maxTransitionWidth!==!1&&e(t).width()>e.mobile.maxTransitionWidth,p=!e.support.cssTransitions||h||!n||"none"===n||Math.max(e(t).scrollTop(),u)>e.mobile.getMaxScrollForTransition(),f=" ui-page-pre-in",m=function(){e.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+n)},g=function(){e.event.special.scrollstart.enabled=!1,t.scrollTo(0,u),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},v=function(){r.removeClass(e.mobile.activePageClass+" out in reverse "+n).height("")},b=function(){i?r.animationComplete(y):y(),r.height(d+e(t).scrollTop()).addClass(n+" out"+l)},y=function(){r&&i&&v(),x()},x=function(){o.css("z-index",-10),o.addClass(e.mobile.activePageClass+f),e.mobile.focusPage(o),o.height(d+u),g(),o.css("z-index",""),p||o.animationComplete(C),o.removeClass(f).addClass(n+" in"+l),p&&C()},C=function(){i||r&&v(),o.removeClass("out in reverse "+n).height(""),m(),e(t).scrollTop()!==u&&g(),s.resolve(n,a,o,r,!0)};return m(),r&&!p?b():y(),s.promise()}},a=i(),o=i(!1),r=function(){return 3*e.mobile.getScreenHeight()};e.mobile.defaultTransitionHandler=a,e.mobile.transitionHandlers={"default":e.mobile.defaultTransitionHandler,sequential:a,simultaneous:o},e.mobile.transitionFallbacks={},e.mobile.getMaxScrollForTransition=e.mobile.getMaxScrollForTransition||r}(e,this),function(e,i){function a(t){!f||f.closest(".ui-page-active").length&&!t||f.removeClass(e.mobile.activeBtnClass),f=null}function o(){v=!1,g.length>0&&e.mobile.changePage.apply(null,g.pop())}function r(t,n,i,a){n&&n.data("page")._trigger("beforehide",null,{nextPage:t}),t.data("page")._trigger("beforeshow",null,{prevPage:n||e("")}),e.mobile.hidePageLoadingMsg(),i&&!e.support.cssTransform3d&&e.mobile.transitionFallbacks[i]&&(i=e.mobile.transitionFallbacks[i]);var o=e.mobile.transitionHandlers[i||"default"]||e.mobile.defaultTransitionHandler,r=o(i,a,t,n);return r.done(function(){n&&n.data("page")._trigger("hide",null,{nextPage:t}),t.data("page")._trigger("show",null,{prevPage:n||e("")})}),r}function s(){var t=e("."+e.mobile.activePageClass),n=parseFloat(t.css("padding-top")),i=parseFloat(t.css("padding-bottom")),a=parseFloat(t.css("border-top-width")),o=parseFloat(t.css("border-bottom-width"));t.css("min-height",w()-n-i-a-o)}function l(t,n){n&&t.attr("data-"+e.mobile.ns+"role",n),t.page()}function c(e){for(;e&&("string"!=typeof e.nodeName||"a"!=e.nodeName.toLowerCase());)e=e.parentNode;return e}function u(t){var n=e(t).closest(".ui-page").jqmData("url"),i=C.hrefNoHash;return n&&p.isPath(n)||(n=i),p.makeUrlAbsolute(n,i)}var d=e(t),h=(e("html"),e("head")),p={urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(e){var t=e?this.parseUrl(e):location,n=this.parseUrl(e||location.href).hash;return n="#"===n?"":n,t.protocol+"//"+t.host+t.pathname+t.search+n},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(t){if("object"===e.type(t))return t;var n=p.urlParseRE.exec(t||"")||[];return{href:n[0]||"",hrefNoHash:n[1]||"",hrefNoSearch:n[2]||"",domain:n[3]||"",protocol:n[4]||"",doubleSlash:n[5]||"",authority:n[6]||"",username:n[8]||"",password:n[9]||"",host:n[10]||"",hostname:n[11]||"",port:n[12]||"",pathname:n[13]||"",directory:n[14]||"",filename:n[15]||"",search:n[16]||"",hash:n[17]||""}},makePathAbsolute:function(e,t){if(e&&"/"===e.charAt(0))return e;e=e||"",t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"";for(var n=t?t.split("/"):[],i=e.split("/"),a=0;a<i.length;a++){var o=i[a];switch(o){case".":break;case"..":n.length&&n.pop();break;default:n.push(o)}}return"/"+n.join("/")},isSameDomain:function(e,t){return p.parseUrl(e).domain===p.parseUrl(t).domain},isRelativeUrl:function(e){return""===p.parseUrl(e).protocol},isAbsoluteUrl:function(e){return""!==p.parseUrl(e).protocol},makeUrlAbsolute:function(e,t){if(!p.isRelativeUrl(e))return e;t===i&&(t=C);var n=p.parseUrl(e),a=p.parseUrl(t),o=n.protocol||a.protocol,r=n.protocol?n.doubleSlash:n.doubleSlash||a.doubleSlash,s=n.authority||a.authority,l=""!==n.pathname,c=p.makePathAbsolute(n.pathname||a.filename,a.pathname),u=n.search||!l&&a.search||"",d=n.hash;return o+r+s+c+u+d},addSearchParams:function(t,n){var i=p.parseUrl(t),a="object"==typeof n?e.param(n):n,o=i.search||"?";return i.hrefNoSearch+o+("?"!==o.charAt(o.length-1)?"&":"")+a+(i.hash||"")},convertUrlToDataUrl:function(e){var t=p.parseUrl(e);return p.isEmbeddedPage(t)?t.hash.split(b)[0].replace(/^#/,""):p.isSameDomain(t,C)?t.hrefNoHash.replace(C.domain,"").split(b)[0]:e},get:function(e){return e===i&&(e=location.hash),p.stripHash(e).replace(/[^\/]*\.[^\/*]+$/,"")},getFilePath:function(t){var n="&"+e.mobile.subPageUrlKey;return t&&t.split(n)[0].split(b)[0]},set:function(e){location.hash=e},isPath:function(e){return/\//.test(e)},clean:function(e){return e.replace(C.domain,"")},stripHash:function(e){return e.replace(/^#/,"")},cleanHash:function(e){return p.stripHash(e.replace(/\?.*$/,"").replace(b,""))},isHashValid:function(e){return/^#[^#]+$/.test(e)},isExternal:function(e){var t=p.parseUrl(e);return t.protocol&&t.domain!==x.domain?!0:!1},hasProtocol:function(e){return/^(:?\w+:)/.test(e)},isFirstPageUrl:function(t){var n=p.parseUrl(p.makeUrlAbsolute(t,C)),a=n.hrefNoHash===x.hrefNoHash||T&&n.hrefNoHash===C.hrefNoHash,o=e.mobile.firstPage,r=o&&o[0]?o[0].id:i;return a&&(!n.hash||"#"===n.hash||r&&n.hash.replace(/^#/,"")===r)},isEmbeddedPage:function(e){var t=p.parseUrl(e);return""!==t.protocol?t.hash&&(t.hrefNoHash===x.hrefNoHash||T&&t.hrefNoHash===C.hrefNoHash):/^#/.test(t.href)},isPermittedCrossDomainRequest:function(t,n){return e.mobile.allowCrossDomainPages&&"file:"===t.protocol&&-1!=n.search(/^https?:/)}},f=null,m={stack:[],activeIndex:0,getActive:function(){return m.stack[m.activeIndex]},getPrev:function(){return m.stack[m.activeIndex-1]},getNext:function(){return m.stack[m.activeIndex+1]},addNew:function(e,t,n,i,a){m.getNext()&&m.clearForward(),m.stack.push({url:e,transition:t,title:n,pageUrl:i,role:a}),m.activeIndex=m.stack.length-1},clearForward:function(){m.stack=m.stack.slice(0,m.activeIndex+1)},directHashChange:function(t){{var n,a,o;this.getActive()}e.each(m.stack,function(e,i){decodeURIComponent(t.currentUrl)===decodeURIComponent(i.url)&&(n=e<m.activeIndex,a=!n,o=e)}),this.activeIndex=o!==i?o:this.activeIndex,n?(t.either||t.isBack)(!0):a&&(t.either||t.isForward)(!1)},ignoreNextHashChange:!1},g=[],v=!1,b="&ui-state=dialog",y=h.children("base"),x=p.parseLocation(),C=y.length?p.parseUrl(p.makeUrlAbsolute(y.attr("href"),x.href)):x,T=x.hrefNoHash!==C.hrefNoHash,w=e.mobile.getScreenHeight,E=e.support.dynamicBaseTag?{element:y.length?y:e("<base>",{href:C.hrefNoHash}).prependTo(h),set:function(e){E.element.attr("href",p.makeUrlAbsolute(e,C))},reset:function(){E.element.attr("href",C.hrefNoHash)}}:i;e.mobile.back=function(){var e=t.navigator;this.phonegapNavigationEnabled&&e&&e.app&&e.app.backHistory?e.app.backHistory():t.history.back()},e.mobile.focusPage=function(e){var t=e.find("[autofocus]"),n=e.find(".ui-title:eq(0)");return t.length?(t.focus(),void 0):(n.length?n.focus():e.focus(),void 0)};var P,_,D=!0;P=function(){if(D){var t=e.mobile.urlHistory.getActive();if(t){var n=d.scrollTop();t.lastScroll=n<e.mobile.minScrollBack?e.mobile.defaultHomeScroll:n}}},_=function(){setTimeout(P,100)},d.bind(e.support.pushState?"popstate":"hashchange",function(){D=!1}),d.one(e.support.pushState?"popstate":"hashchange",function(){D=!0}),d.one("pagecontainercreate",function(){e.mobile.pageContainer.bind("pagechange",function(){D=!0,d.unbind("scrollstop",_),d.bind("scrollstop",_)})}),d.bind("scrollstop",_),e.fn.animationComplete=function(t){return e.support.cssTransitions?e(this).one("webkitAnimationEnd animationend",t):(setTimeout(t,0),e(this))},e.mobile.path=p,e.mobile.base=E,e.mobile.urlHistory=m,e.mobile.dialogHashKey=b,e.mobile.allowCrossDomainPages=!1,e.mobile.getDocumentUrl=function(t){return t?e.extend({},x):x.href},e.mobile.getDocumentBase=function(t){return t?e.extend({},C):C.href},e.mobile._bindPageRemove=function(){var t=e(this);!t.data("page").options.domCache&&t.is(":jqmData(external-page='true')")&&t.bind("pagehide.remove",function(){var t=e(this),n=new e.Event("pageremove");t.trigger(n),n.isDefaultPrevented()||t.removeWithDependents()})},e.mobile.loadPage=function(t,n){var a=e.Deferred(),o=e.extend({},e.mobile.loadPage.defaults,n),r=null,s=null,c=function(){var t=e.mobile.activePage&&u(e.mobile.activePage);return t||C.hrefNoHash},d=p.makeUrlAbsolute(t,c());o.data&&"get"===o.type&&(d=p.addSearchParams(d,o.data),o.data=i),o.data&&"post"===o.type&&(o.reloadPage=!0);var h=p.getFilePath(d),f=p.convertUrlToDataUrl(d);if(o.pageContainer=o.pageContainer||e.mobile.pageContainer,r=o.pageContainer.children("[data-"+e.mobile.ns+"url='"+f+"']"),0===r.length&&f&&!p.isPath(f)&&(r=o.pageContainer.children("#"+f).attr("data-"+e.mobile.ns+"url",f)),0===r.length)if(e.mobile.firstPage&&p.isFirstPageUrl(h))e.mobile.firstPage.parent().length&&(r=e(e.mobile.firstPage));else if(p.isEmbeddedPage(h))return a.reject(d,n),a.promise();if(r.length){if(!o.reloadPage)return l(r,o.role),a.resolve(d,n,r),E&&!n.prefetch&&E.set(t),a.promise();s=r}var m=o.pageContainer,g=new e.Event("pagebeforeload"),v={url:t,absUrl:d,dataUrl:f,deferred:a,options:o};if(m.trigger(g,v),g.isDefaultPrevented())return a.promise();if(o.showLoadMsg)var b=setTimeout(function(){e.mobile.showPageLoadingMsg()},o.loadMsgDelay),y=function(){clearTimeout(b),e.mobile.hidePageLoadingMsg()};return E&&"undefined"==typeof n.prefetch&&E.reset(),e.mobile.allowCrossDomainPages||p.isSameDomain(x,d)?e.ajax({url:h,type:o.type,data:o.data,dataType:"html",success:function(i,c,u){var m=e("<div></div>"),g=i.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,b=new RegExp("(<[^>]+\\bdata-"+e.mobile.ns+"role=[\"']?page[\"']?[^>]*>)"),x=new RegExp("\\bdata-"+e.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");if(b.test(i)&&RegExp.$1&&x.test(RegExp.$1)&&RegExp.$1&&(t=h=p.getFilePath(RegExp.$1)),E&&"undefined"==typeof n.prefetch&&E.set(h),m.get(0).innerHTML=i,r=m.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),r.length||(r=e("<div data-"+e.mobile.ns+"role='page'>"+i.split(/<\/?body[^>]*>/gim)[1]+"</div>")),g&&!r.jqmData("title")&&(~g.indexOf("&")&&(g=e("<div>"+g+"</div>").text()),r.jqmData("title",g)),!e.support.dynamicBaseTag){var C=p.get(h);r.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var t=e(this).is("[href]")?"href":e(this).is("[src]")?"src":"action",n=e(this).attr(t);n=n.replace(location.protocol+"//"+location.host+location.pathname,""),/^(\w+:|#|\/)/.test(n)||e(this).attr(t,C+n)})}r.attr("data-"+e.mobile.ns+"url",p.convertUrlToDataUrl(h)).attr("data-"+e.mobile.ns+"external-page",!0).appendTo(o.pageContainer),r.one("pagecreate",e.mobile._bindPageRemove),l(r,o.role),d.indexOf("&"+e.mobile.subPageUrlKey)>-1&&(r=o.pageContainer.children("[data-"+e.mobile.ns+"url='"+f+"']")),o.showLoadMsg&&y(),v.xhr=u,v.textStatus=c,v.page=r,o.pageContainer.trigger("pageload",v),a.resolve(d,n,r,s)},error:function(t,i,r){E&&E.set(p.get()),v.xhr=t,v.textStatus=i,v.errorThrown=r;var s=new e.Event("pageloadfailed");o.pageContainer.trigger(s,v),s.isDefaultPrevented()||(o.showLoadMsg&&(y(),e.mobile.showPageLoadingMsg(e.mobile.pageLoadErrorMessageTheme,e.mobile.pageLoadErrorMessage,!0),setTimeout(e.mobile.hidePageLoadingMsg,1500)),a.reject(d,n))}}):a.reject(d,n),a.promise()},e.mobile.loadPage.defaults={type:"get",data:i,reloadPage:!1,role:i,showLoadMsg:!1,pageContainer:i,loadMsgDelay:50},e.mobile.changePage=function(t,s){if(v)return g.unshift(arguments),void 0;var c=e.extend({},e.mobile.changePage.defaults,s);c.pageContainer=c.pageContainer||e.mobile.pageContainer,c.fromPage=c.fromPage||e.mobile.activePage;var u=c.pageContainer,d=new e.Event("pagebeforechange"),h={toPage:t,options:c};if(u.trigger(d,h),!d.isDefaultPrevented()){if(t=h.toPage,v=!0,"string"==typeof t)return e.mobile.loadPage(t,c).done(function(t,n,i,a){v=!1,n.duplicateCachedPage=a,e.mobile.changePage(i,n)}).fail(function(){a(!0),o(),c.pageContainer.trigger("pagechangefailed",h)}),void 0;t[0]!==e.mobile.firstPage[0]||c.dataUrl||(c.dataUrl=x.hrefNoHash);var f=c.fromPage,y=c.dataUrl&&p.convertUrlToDataUrl(c.dataUrl)||t.jqmData("url"),C=y,T=(p.getFilePath(y),m.getActive()),w=0===m.activeIndex,E=0,P=n.title,_="dialog"===c.role||"dialog"===t.jqmData("role");if(f&&f[0]===t[0]&&!c.allowSamePageTransition)return v=!1,u.trigger("pagechange",h),c.fromHashChange&&m.directHashChange({currentUrl:y,isBack:function(){},isForward:function(){}}),void 0;l(t,c.role),c.fromHashChange&&m.directHashChange({currentUrl:y,isBack:function(){E=-1},isForward:function(){E=1}});try{n.activeElement&&"body"!=n.activeElement.nodeName.toLowerCase()?e(n.activeElement).blur():e("input:focus, textarea:focus, select:focus").blur()}catch(D){}var k=!1;_&&T&&(T.url&&T.url.indexOf(b)>-1&&!e.mobile.activePage.is(".ui-dialog")&&(c.changeHash=!1,k=!0),y=(T.url||"")+b,0===m.activeIndex&&y===m.initialDst&&(y+=b)),c.changeHash!==!1&&y&&(m.ignoreNextHashChange=!0,p.set(y));var S=T?t.jqmData("title")||t.children(":jqmData(role='header')").find(".ui-title").getEncodedText():P;S&&P==n.title&&(P=S),t.jqmData("title")||t.jqmData("title",P),c.transition=c.transition||(E&&!w?T.transition:i)||(_?e.mobile.defaultDialogTransition:e.mobile.defaultPageTransition),E||k||m.addNew(y,c.transition,P,C,c.role),n.title=m.getActive().title,e.mobile.activePage=t,c.reverse=c.reverse||0>E,r(t,f,c.transition,c.reverse).done(function(n,i,r,s,l){a(),c.duplicateCachedPage&&c.duplicateCachedPage.remove(),l||e.mobile.focusPage(t),o(),u.trigger("pagechange",h)})}},e.mobile.changePage.defaults={transition:i,reverse:!1,changeHash:!0,fromHashChange:!1,role:i,duplicateCachedPage:i,pageContainer:i,showLoadMsg:!0,dataUrl:i,fromPage:i,allowSamePageTransition:!1},e.mobile.navreadyDeferred=e.Deferred(),e.mobile._registerInternalEvents=function(){e(n).delegate("form","submit",function(t){var n=e(this);if(e.mobile.ajaxEnabled&&!n.is(":jqmData(ajax='false')")&&n.jqmHijackable().length){var i=n.attr("method"),a=n.attr("target"),o=n.attr("action");o||(o=u(n),o===C.hrefNoHash&&(o=x.hrefNoSearch)),o=p.makeUrlAbsolute(o,u(n)),p.isExternal(o)&&!p.isPermittedCrossDomainRequest(x,o)||a||(e.mobile.changePage(o,{type:i&&i.length&&i.toLowerCase()||"get",data:n.serialize(),transition:n.jqmData("transition"),direction:n.jqmData("direction"),reloadPage:!0}),t.preventDefault())}}),e(n).bind("vclick",function(t){if(!(t.which>1)&&e.mobile.linkBindingEnabled){var n=c(t.target);e(n).jqmHijackable().length&&n&&"#"!==p.parseUrl(n.getAttribute("href")||"#").hash&&(a(!0),f=e(n).closest(".ui-btn").not(".ui-disabled"),f.addClass(e.mobile.activeBtnClass))}}),e(n).bind("click",function(n){if(e.mobile.linkBindingEnabled){var o,r=c(n.target),s=e(r);if(r&&!(n.which>1)&&s.jqmHijackable().length){if(o=function(){t.setTimeout(function(){a(!0)},200)},s.is(":jqmData(rel='back')"))return e.mobile.back(),!1;var l=u(s),d=p.makeUrlAbsolute(s.attr("href")||"#",l);if(!e.mobile.ajaxEnabled&&!p.isEmbeddedPage(d))return o(),void 0;if(-1!=d.search("#")){if(d=d.replace(/[^#]*#/,""),!d)return n.preventDefault(),void 0;d=p.isPath(d)?p.makeUrlAbsolute(d,l):p.makeUrlAbsolute("#"+d,x.hrefNoHash)}var h=s.is("[rel='external']")||s.is(":jqmData(ajax='false')")||s.is("[target]"),f=h||p.isExternal(d)&&!p.isPermittedCrossDomainRequest(x,d);if(f)return o(),void 0;var m=s.jqmData("transition"),g=s.jqmData("direction"),v=g&&"reverse"===g||s.jqmData("back"),b=s.attr("data-"+e.mobile.ns+"rel")||i;e.mobile.changePage(d,{transition:m,reverse:v,role:b}),n.preventDefault()}}}),e(n).delegate(".ui-page","pageshow.prefetch",function(){var t=[];e(this).find("a:jqmData(prefetch)").each(function(){var n=e(this),i=n.attr("href");i&&-1===e.inArray(i,t)&&(t.push(i),e.mobile.loadPage(i,{role:n.attr("data-"+e.mobile.ns+"rel"),prefetch:!0}))})}),e.mobile._handleHashChange=function(n){var a=p.stripHash(n),o=0===e.mobile.urlHistory.stack.length?"none":i,r={transition:o,changeHash:!1,fromHashChange:!0};if(0===m.stack.length&&(m.initialDst=a),!e.mobile.hashListeningEnabled||m.ignoreNextHashChange)return m.ignoreNextHashChange=!1,void 0;if(m.stack.length>1&&a.indexOf(b)>-1&&m.initialDst!==a){if(!e.mobile.activePage.is(".ui-dialog"))return m.directHashChange({currentUrl:a,isBack:function(){e.mobile.back()},isForward:function(){t.history.forward()}}),void 0;m.directHashChange({currentUrl:a,either:function(t){var n=e.mobile.urlHistory.getActive();a=n.pageUrl,e.extend(r,{role:n.role,transition:n.transition,reverse:t})}})}a?(a="string"!=typeof a||p.isPath(a)?a:p.makeUrlAbsolute("#"+a,C),e.mobile.changePage(a,r)):e.mobile.changePage(e.mobile.firstPage,r)},d.bind("hashchange",function(){e.mobile._handleHashChange(p.parseLocation().hash)}),e(n).bind("pageshow",s),e(t).bind("throttledresize",s)},e.mobile.navreadyDeferred.done(function(){e.mobile._registerInternalEvents()})}(e),function(e,t){var i={},o=i,r=e(t),s=e.mobile.path.parseLocation(),l=e.Deferred(),c=e.Deferred();e(n).ready(e.proxy(c,"resolve")),e(n).one("mobileinit",e.proxy(l,"resolve")),e.extend(i,{initialFilePath:function(){return s.pathname+s.search}(),hashChangeTimeout:200,hashChangeEnableTimer:a,initialHref:s.hrefNoHash,state:function(){return{hash:e.mobile.path.parseLocation().hash||"#"+o.initialFilePath,title:n.title,initialHref:o.initialHref}},resetUIKeys:function(t){var n=e.mobile.dialogHashKey,i="&"+e.mobile.subPageUrlKey,a=t.indexOf(n);return a>-1?t=t.slice(0,a)+"#"+t.slice(a):t.indexOf(i)>-1&&(t=t.split(i).join("#"+i)),t},nextHashChangePrevented:function(t){e.mobile.urlHistory.ignoreNextHashChange=t,o.onHashChangeDisabled=t},onHashChange:function(){if(!o.onHashChangeDisabled){var t,i,a=e.mobile.path.parseLocation().hash,r=e.mobile.path.isPath(a),s=r?e.mobile.path.getLocation():e.mobile.getDocumentUrl();
a=r?a.replace("#",""):a,i=o.state(),t=e.mobile.path.makeUrlAbsolute(a,s),r&&(t=o.resetUIKeys(t)),history.replaceState(i,n.title,t)}},onPopState:function(t){var n=t.originalEvent.state;n&&(clearTimeout(o.hashChangeEnableTimer),o.nextHashChangePrevented(!1),e.mobile._handleHashChange(n.hash),o.nextHashChangePrevented(!0),o.hashChangeEnableTimer=setTimeout(function(){o.nextHashChangePrevented(!1)},o.hashChangeTimeout))},init:function(){r.bind("hashchange",o.onHashChange),r.bind("popstate",o.onPopState),""===location.hash&&history.replaceState(o.state(),n.title,e.mobile.path.getLocation())}}),e.when(c,l,e.mobile.navreadyDeferred).done(function(){e.mobile.pushStateEnabled&&e.support.pushState&&i.init()})}(e,this),function(e){e.mobile.transitionFallbacks.pop="fade"}(e,this),function(e){e.mobile.transitionHandlers.slide=e.mobile.transitionHandlers.simultaneous,e.mobile.transitionFallbacks.slide="fade"}(e,this),function(e){e.mobile.transitionFallbacks.slidedown="fade"}(e,this),function(e){e.mobile.transitionFallbacks.slideup="fade"}(e,this),function(e){e.mobile.transitionFallbacks.flip="fade"}(e,this),function(e){e.mobile.transitionFallbacks.flow="fade"}(e,this),function(e){e.mobile.transitionFallbacks.turn="fade"}(e,this),function(e){e.mobile.page.prototype.options.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},e(n).bind("pagecreate create",function(t){var n,i=e.mobile.closestPageData(e(t.target));i&&(n=i.options,e(t.target).find("input").not(i.keepNativeSelector()).each(function(){var t=e(this),i=this.getAttribute("type"),a=n.degradeInputs[i]||"text";if(n.degradeInputs[i]){var o=e("<div>").html(t.clone()).html(),r=o.indexOf(" type=")>-1,s=r?/\s+type=["']?\w+['"]?/:/\/?>/,l=' type="'+a+'" data-'+e.mobile.ns+'type="'+i+'"'+(r?"":">");t.replaceWith(o.replace(s,l))}}))})}(e),function(e){e.widget("mobile.dialog",e.mobile.widget,{options:{closeBtnText:"Close",overlayTheme:"a",initSelector:":jqmData(role='dialog')"},_create:function(){var t=this,n=this.element,i=e("<a href='#' data-"+e.mobile.ns+"icon='delete' data-"+e.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>"),a=e("<div/>",{role:"dialog","class":"ui-dialog-contain ui-corner-all ui-overlay-shadow"});n.addClass("ui-dialog ui-overlay-"+this.options.overlayTheme),n.wrapInner(a).children().find(":jqmData(role='header')").prepend(i).end().children(":first-child").addClass("ui-corner-top").end().children(":last-child").addClass("ui-corner-bottom"),i.bind("click",function(){t.close()}),n.bind("vclick submit",function(t){var n,i=e(t.target).closest("vclick"===t.type?"a":"form");i.length&&!i.jqmData("transition")&&(n=e.mobile.urlHistory.getActive()||{},i.attr("data-"+e.mobile.ns+"transition",n.transition||e.mobile.defaultDialogTransition).attr("data-"+e.mobile.ns+"direction","reverse"))}).bind("pagehide",function(){t._isClosed=!1,e(this).find("."+e.mobile.activeBtnClass).not(".ui-slider-bg").removeClass(e.mobile.activeBtnClass)}).bind("pagebeforeshow",function(){t.options.overlayTheme&&t.element.page("removeContainerBackground").page("setContainerBackground",t.options.overlayTheme)})},close:function(){var t;this._isClosed||(this._isClosed=!0,e.mobile.hashListeningEnabled?e.mobile.back():(t=e.mobile.urlHistory.getPrev().url,e.mobile.path.isPath(t)||(t=e.mobile.path.makeUrlAbsolute("#"+t)),e.mobile.changePage(t,{changeHash:!1,fromHashChange:!0})))}}),e(n).delegate(e.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){e.mobile.dialog.prototype.enhance(this)})}(e,this),function(e){e.mobile.page.prototype.options.backBtnText="Back",e.mobile.page.prototype.options.addBackBtn=!1,e.mobile.page.prototype.options.backBtnTheme=null,e.mobile.page.prototype.options.headerTheme="a",e.mobile.page.prototype.options.footerTheme="a",e.mobile.page.prototype.options.contentTheme=null,e(n).bind("pagecreate",function(t){var n=e(t.target),i=n.data("page").options,a=n.jqmData("role"),o=i.theme;e(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",n).jqmEnhanceable().each(function(){var t,r,s,l,c=e(this),u=c.jqmData("role"),d=c.jqmData("theme"),h=d||i.contentTheme||"dialog"===a&&o;if(c.addClass("ui-"+u),"header"===u||"footer"===u){var p=d||("header"===u?i.headerTheme:i.footerTheme)||o;c.addClass("ui-bar-"+p).attr("role","header"===u?"banner":"contentinfo"),"header"===u&&(t=c.children("a, button"),r=t.hasClass("ui-btn-left"),s=t.hasClass("ui-btn-right"),r=r||t.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length,s=s||t.eq(1).addClass("ui-btn-right").length),i.addBackBtn&&"header"===u&&e(".ui-page").length>1&&n.jqmData("url")!==e.mobile.path.stripHash(location.hash)&&!r&&(l=e("<a href='javascript:void(0);' class='ui-btn-left' data-"+e.mobile.ns+"rel='back' data-"+e.mobile.ns+"icon='arrow-l'>"+i.backBtnText+"</a>").attr("data-"+e.mobile.ns+"theme",i.backBtnTheme||p).prependTo(c)),c.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})}else"content"===u&&(h&&c.addClass("ui-body-"+h),c.attr("role","main"))})})}(e),function(e){e.fn.fieldcontain=function(){return this.addClass("ui-field-contain ui-body ui-br").contents().filter(function(){return 3===this.nodeType&&!/\S/.test(this.nodeValue)}).remove()},e(n).bind("pagecreate create",function(t){e(":jqmData(role='fieldcontain')",t.target).jqmEnhanceable().fieldcontain()})}(e),function(e){e.fn.grid=function(t){return this.each(function(){var n,i=e(this),a=e.extend({grid:null},t),o=i.children(),r={solo:1,a:2,b:3,c:4,d:5},s=a.grid;if(!s)if(o.length<=5)for(var l in r)r[l]===o.length&&(s=l);else s="a",i.addClass("ui-grid-duo");n=r[s],i.addClass("ui-grid-"+s),o.filter(":nth-child("+n+"n+1)").addClass("ui-block-a"),n>1&&o.filter(":nth-child("+n+"n+2)").addClass("ui-block-b"),n>2&&o.filter(":nth-child(3n+3)").addClass("ui-block-c"),n>3&&o.filter(":nth-child(4n+4)").addClass("ui-block-d"),n>4&&o.filter(":nth-child(5n+5)").addClass("ui-block-e")})}}(e),function(e){e(n).bind("pagecreate create",function(t){e(":jqmData(role='nojs')",t.target).addClass("ui-nojs")})}(e),function(e,t){function i(e){for(var t;e&&(t="string"==typeof e.className&&e.className+" ",!(t&&t.indexOf("ui-btn ")>-1&&t.indexOf("ui-disabled ")<0));)e=e.parentNode;return e}e.fn.buttonMarkup=function(i){var o=this;i=i&&"object"==e.type(i)?i:{};for(var r=0;r<o.length;r++){var s,l,c,u,d,h,p=o.eq(r),f=p[0],m=e.extend({},e.fn.buttonMarkup.defaults,{icon:i.icon!==t?i.icon:p.jqmData("icon"),iconpos:i.iconpos!==t?i.iconpos:p.jqmData("iconpos"),theme:i.theme!==t?i.theme:p.jqmData("theme")||e.mobile.getInheritedTheme(p,"c"),inline:i.inline!==t?i.inline:p.jqmData("inline"),shadow:i.shadow!==t?i.shadow:p.jqmData("shadow"),corners:i.corners!==t?i.corners:p.jqmData("corners"),iconshadow:i.iconshadow!==t?i.iconshadow:p.jqmData("iconshadow"),mini:i.mini!==t?i.mini:p.jqmData("mini")},i),g="ui-btn-inner",v="ui-btn-text";for(e.each(m,function(t,n){f.setAttribute("data-"+e.mobile.ns+t,n),p.jqmData(t,n)}),h=e.data("INPUT"===f.tagName||"BUTTON"===f.tagName?f.parentNode:f,"buttonElements"),h?(f=h.outer,p=e(f),c=h.inner,u=h.text,e(h.icon).remove(),h.icon=null):(c=n.createElement(m.wrapperEls),u=n.createElement(m.wrapperEls)),d=m.icon?n.createElement("span"):null,a&&!h&&a(),m.theme||(m.theme=e.mobile.getInheritedTheme(p,"c")),s="ui-btn ui-btn-up-"+m.theme,s+=m.shadow?" ui-shadow":"",s+=m.corners?" ui-btn-corner-all":"",m.mini!==t&&(s+=m.mini===!0?" ui-mini":" ui-fullsize"),m.inline!==t&&(s+=m.inline===!0?" ui-btn-inline":" ui-btn-block"),m.icon&&(m.icon="ui-icon-"+m.icon,m.iconpos=m.iconpos||"left",l="ui-icon "+m.icon,m.iconshadow&&(l+=" ui-icon-shadow")),m.iconpos&&(s+=" ui-btn-icon-"+m.iconpos,"notext"!=m.iconpos||p.attr("title")||p.attr("title",p.getEncodedText())),g+=m.corners?" ui-btn-corner-all":"",m.iconpos&&"notext"===m.iconpos&&!p.attr("title")&&p.attr("title",p.getEncodedText()),h&&p.removeClass(h.bcls||""),p.removeClass("ui-link").addClass(s),c.className=g,u.className=v,h||c.appendChild(u),d&&(d.className=l,h&&h.icon||(d.innerHTML="&#160;",c.appendChild(d)));f.firstChild&&!h;)u.appendChild(f.firstChild);h||f.appendChild(c),h={bcls:s,outer:f,inner:c,text:u,icon:d},e.data(f,"buttonElements",h),e.data(c,"buttonElements",h),e.data(u,"buttonElements",h),d&&e.data(d,"buttonElements",h)}return this},e.fn.buttonMarkup.defaults={corners:!0,shadow:!0,iconshadow:!0,wrapperEls:"span"};var a=function(){var t,o,r=e.mobile.buttonMarkup.hoverDelay;e(n).bind({"vmousedown vmousecancel vmouseup vmouseover vmouseout focus blur scrollstart":function(n){var a,s=e(i(n.target)),l=n.type;s.length&&(a=s.attr("data-"+e.mobile.ns+"theme"),"vmousedown"===l?e.support.touch?t=setTimeout(function(){s.removeClass("ui-btn-up-"+a).addClass("ui-btn-down-"+a)},r):s.removeClass("ui-btn-up-"+a).addClass("ui-btn-down-"+a):"vmousecancel"===l||"vmouseup"===l?s.removeClass("ui-btn-down-"+a).addClass("ui-btn-up-"+a):"vmouseover"===l||"focus"===l?e.support.touch?o=setTimeout(function(){s.removeClass("ui-btn-up-"+a).addClass("ui-btn-hover-"+a)},r):s.removeClass("ui-btn-up-"+a).addClass("ui-btn-hover-"+a):("vmouseout"===l||"blur"===l||"scrollstart"===l)&&(s.removeClass("ui-btn-hover-"+a+" ui-btn-down-"+a).addClass("ui-btn-up-"+a),t&&clearTimeout(t),o&&clearTimeout(o)))},"focusin focus":function(t){e(i(t.target)).addClass(e.mobile.focusClass)},"focusout blur":function(t){e(i(t.target)).removeClass(e.mobile.focusClass)}}),a=null};e(n).bind("pagecreate create",function(t){e(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",t.target).jqmEnhanceable().not("button, input, .ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})}(e),function(e){e.widget("mobile.collapsible",e.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",theme:null,contentTheme:null,iconTheme:"d",mini:!1,initSelector:":jqmData(role='collapsible')"},_create:function(){var t=this.element,n=this.options,i=t.addClass("ui-collapsible"),a=t.children(n.heading).first(),o=i.wrapInner("<div class='ui-collapsible-content'></div>").find(".ui-collapsible-content"),r=t.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set");a.is("legend")&&(a=e("<div role='heading'>"+a.html()+"</div>").insertBefore(a),a.next().remove()),r.length&&(n.theme||(n.theme=r.jqmData("theme")||e.mobile.getInheritedTheme(r,"c")),n.contentTheme||(n.contentTheme=r.jqmData("content-theme")),n.iconpos||(n.iconpos=r.jqmData("iconpos")),n.mini||(n.mini=r.jqmData("mini"))),o.addClass(n.contentTheme?"ui-body-"+n.contentTheme:""),a.insertBefore(o).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:!1,corners:!1,iconpos:t.jqmData("iconpos")||n.iconpos||"left",icon:"plus",mini:n.mini,theme:n.theme}).add(".ui-btn-inner",t).addClass("ui-corner-top ui-corner-bottom"),i.bind("expand collapse",function(t){if(!t.isDefaultPrevented()){t.preventDefault();var s=e(this),l="collapse"===t.type,c=n.contentTheme;a.toggleClass("ui-collapsible-heading-collapsed",l).find(".ui-collapsible-heading-status").text(l?n.expandCueText:n.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-minus",!l).toggleClass("ui-icon-plus",l).end().find("a").first().removeClass(e.mobile.activeBtnClass),s.toggleClass("ui-collapsible-collapsed",l),o.toggleClass("ui-collapsible-content-collapsed",l).attr("aria-hidden",l),!c||r.length&&!i.jqmData("collapsible-last")||(a.find("a").first().add(a.find(".ui-btn-inner")).toggleClass("ui-corner-bottom",l),o.toggleClass("ui-corner-bottom",!l)),o.trigger("updatelayout")}}).trigger(n.collapsed?"collapse":"expand"),a.bind("tap",function(){a.find("a").first().addClass(e.mobile.activeBtnClass)}).bind("click",function(e){var t=a.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";i.trigger(t),e.preventDefault(),e.stopPropagation()})}}),e(n).bind("pagecreate create",function(t){e.mobile.collapsible.prototype.enhanceWithin(t.target)})}(e),function(e,t){e.widget("mobile.collapsibleset",e.mobile.widget,{options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var n=this.element.addClass("ui-collapsible-set"),i=this.options;i.theme||(i.theme=e.mobile.getInheritedTheme(n,"c")),i.contentTheme||(i.contentTheme=n.jqmData("content-theme")),i.corners||(i.corners=n.jqmData("corners")===t?!0:!1),n.jqmData("collapsiblebound")||n.jqmData("collapsiblebound",!0).bind("expand collapse",function(t){var n="collapse"===t.type,i=e(t.target).closest(".ui-collapsible"),a=i.data("collapsible"),o=a.options.contentTheme;o&&i.jqmData("collapsible-last")&&(i.find(".ui-collapsible-heading").first().find("a").first().toggleClass("ui-corner-bottom",n).find(".ui-btn-inner").toggleClass("ui-corner-bottom",n),i.find(".ui-collapsible-content").toggleClass("ui-corner-bottom",!n))}).bind("expand",function(t){e(t.target).closest(".ui-collapsible").siblings(".ui-collapsible").trigger("collapse")})},_init:function(){this.refresh()},refresh:function(){var t=this.element,n=this.options,i=t.children(":jqmData(role='collapsible')");e.mobile.collapsible.prototype.enhance(i.not(".ui-collapsible")),i.each(function(){e(this).jqmRemoveData("collapsible-last").find(".ui-collapsible-heading").find("a").first().removeClass("ui-corner-top ui-corner-bottom").find(".ui-btn-inner").removeClass("ui-corner-top ui-corner-bottom")}),i.first().find("a").first().addClass(n.corners?"ui-corner-top":"").find(".ui-btn-inner").addClass("ui-corner-top"),i.last().jqmData("collapsible-last",!0).find("a").first().addClass(n.corners?"ui-corner-bottom":"").find(".ui-btn-inner").addClass("ui-corner-bottom")}}),e(n).bind("pagecreate create",function(t){e.mobile.collapsibleset.prototype.enhanceWithin(t.target)})}(e),function(e,t){e.widget("mobile.navbar",e.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var n=this.element,i=n.find("a"),a=i.filter(":jqmData(icon)").length?this.options.iconpos:t;n.addClass("ui-navbar ui-mini").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid}),i.buttonMarkup({corners:!1,shadow:!1,inline:!0,iconpos:a}),n.delegate("a","vclick",function(t){e(t.target).hasClass("ui-disabled")||(i.removeClass(e.mobile.activeBtnClass),e(this).addClass(e.mobile.activeBtnClass))}),n.closest(".ui-page").bind("pagebeforeshow",function(){i.filter(".ui-state-persist").addClass(e.mobile.activeBtnClass)})}}),e(n).bind("pagecreate create",function(t){e.mobile.navbar.prototype.enhanceWithin(t.target)})}(e),function(e){var t={};e.widget("mobile.listview",e.mobile.widget,{options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",splitIcon:"arrow-r",splitTheme:"b",inset:!1,initSelector:":jqmData(role='listview')"},_create:function(){var e=this,t="";t+=e.options.inset?" ui-listview-inset ui-corner-all ui-shadow ":"",e.element.addClass(function(e,n){return n+" ui-listview "+t}),e.refresh(!0)},_removeCorners:function(e,t){var n="ui-corner-top ui-corner-tr ui-corner-tl",i="ui-corner-bottom ui-corner-br ui-corner-bl";e=e.add(e.find(".ui-btn-inner, .ui-li-link-alt, .ui-li-thumb")),"top"===t?e.removeClass(n):"bottom"===t?e.removeClass(i):e.removeClass(n+" "+i)},_refreshCorners:function(e){var t,n,i,a;t=this.element.children("li"),n=e?t.not(".ui-screen-hidden"):t.filter(":visible"),t.filter(".ui-li-last").removeClass("ui-li-last"),this.options.inset?(this._removeCorners(t),i=n.first().addClass("ui-corner-top"),i.add(i.find(".ui-btn-inner").not(".ui-li-link-alt span:first-child")).addClass("ui-corner-top").end().find(".ui-li-link-alt, .ui-li-link-alt span:first-child").addClass("ui-corner-tr").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-tl"),a=n.last().addClass("ui-corner-bottom ui-li-last"),a.add(a.find(".ui-btn-inner")).find(".ui-li-link-alt").addClass("ui-corner-br").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-bl")):n.last().addClass("ui-li-last"),e||this.element.trigger("updatelayout")},_findFirstElementByTagName:function(e,t,n,i){var a={};for(a[n]=a[i]=!0;e;){if(a[e.nodeName])return e;e=e[t]}return null},_getChildrenByTagName:function(t,n,i){var a=[],o={};for(o[n]=o[i]=!0,t=t.firstChild;t;)o[t.nodeName]&&a.push(t),t=t.nextSibling;return e(a)},_addThumbClasses:function(t){var n,i,a=t.length;for(n=0;a>n;n++)i=e(this._findFirstElementByTagName(t[n].firstChild,"nextSibling","img","IMG")),i.length&&(i.addClass("ui-li-thumb"),e(this._findFirstElementByTagName(i[0].parentNode,"parentNode","li","LI")).addClass(i.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb"))},refresh:function(t){this.parentPage=this.element.closest(".ui-page"),this._createSubPages();var i,a,o,r,s,l,c,u,d,h,p,f,m=this.options,g=this.element,v=g.jqmData("dividertheme")||m.dividerTheme,b=g.jqmData("splittheme"),y=g.jqmData("spliticon"),x=this._getChildrenByTagName(g[0],"li","LI"),C=!!e.nodeName(g[0],"ol"),T=!e.support.cssPseudoElement,w=g.attr("start"),E={};C&&T&&g.find(".ui-li-dec").remove(),C&&(w||0===w?T?c=parseFloat(w):(u=parseFloat(w)-1,g.css("counter-reset","listnumbering "+u)):T&&(c=1)),m.theme||(m.theme=e.mobile.getInheritedTheme(this.element,"c"));for(var P=0,_=x.length;_>P;P++){if(i=x.eq(P),a="ui-li",t||!i.hasClass("ui-li")){o=i.jqmData("theme")||m.theme,r=this._getChildrenByTagName(i[0],"a","A");var D="list-divider"===i.jqmData("role");r.length&&!D?(p=i.jqmData("icon"),i.buttonMarkup({wrapperEls:"div",shadow:!1,corners:!1,iconpos:"right",icon:r.length>1||p===!1?!1:p||"arrow-r",theme:o}),0!=p&&1==r.length&&i.addClass("ui-li-has-arrow"),r.first().removeClass("ui-link").addClass("ui-link-inherit"),r.length>1&&(a+=" ui-li-has-alt",s=r.last(),l=b||s.jqmData("theme")||m.splitTheme,f=s.jqmData("icon"),s.appendTo(i).attr("title",s.getEncodedText()).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:!1,corners:!1,theme:o,icon:!1,iconpos:"notext"}).find(".ui-btn-inner").append(e(n.createElement("span")).buttonMarkup({shadow:!0,corners:!0,theme:l,iconpos:"notext",icon:f||p||y||m.splitIcon})))):D?(a+=" ui-li-divider ui-bar-"+v,i.attr("role","heading"),C&&(w||0===w?T?c=parseFloat(w):(d=parseFloat(w)-1,i.css("counter-reset","listnumbering "+d)):T&&(c=1))):a+=" ui-li-static ui-body-"+o}C&&T&&a.indexOf("ui-li-divider")<0&&(h=a.indexOf("ui-li-static")>0?i:i.find(".ui-link-inherit"),h.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+c++ +". </span>")),E[a]||(E[a]=[]),E[a].push(i[0])}for(a in E)e(E[a]).addClass(a).children(".ui-btn-inner").addClass(a);g.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var t=e(this);t.prependTo(t.parent())}).end().find(".ui-li-count").each(function(){e(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(g.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all"),this._addThumbClasses(x),this._addThumbClasses(g.find(".ui-link-inherit")),this._refreshCorners(t)},_idStringEscape:function(e){return e.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var n,i=this.element,a=i.closest(".ui-page"),o=a.jqmData("url"),r=o||a[0][e.expando],s=i.attr("id"),l=this.options,c="data-"+e.mobile.ns,u=this,d=a.find(":jqmData(role='footer')").jqmData("id");if("undefined"==typeof t[r]&&(t[r]=-1),s=s||++t[r],e(i.find("li>ul, li>ol").toArray().reverse()).each(function(t){var a,r,u=e(this),h=u.attr("id")||s+"-"+t,p=u.parent(),f=e(u.prevAll().toArray().reverse()),f=f.length?f:e("<span>"+e.trim(p.contents()[0].nodeValue)+"</span>"),m=f.first().getEncodedText(),g=(o||"")+"&"+e.mobile.subPageUrlKey+"="+h,v=u.jqmData("theme")||l.theme,b=u.jqmData("counttheme")||i.jqmData("counttheme")||l.countTheme;n=!0,a=u.detach().wrap("<div "+c+"role='page' "+c+"url='"+g+"' "+c+"theme='"+v+"' "+c+"count-theme='"+b+"'><div "+c+"role='content'></div></div>").parent().before("<div "+c+"role='header' "+c+"theme='"+l.headerTheme+"'><div class='ui-title'>"+m+"</div></div>").after(d?e("<div "+c+"role='footer' "+c+"id='"+d+"'>"):"").parent().appendTo(e.mobile.pageContainer),a.page(),r=p.find("a:first"),r.length||(r=e("<a/>").html(f||m).prependTo(p.empty())),r.attr("href","#"+g)}).listview(),n&&a.is(":jqmData(external-page='true')")&&a.data("page").options.domCache===!1){var h=function(t,n){var i,r=n.nextPage,s=new e.Event("pageremove");n.nextPage&&(i=r.jqmData("url"),0!==i.indexOf(o+"&"+e.mobile.subPageUrlKey)&&(u.childPages().remove(),a.trigger(s),s.isDefaultPrevented()||a.removeWithDependents()))};a.unbind("pagehide.remove").bind("pagehide.remove",h)}},childPages:function(){var t=this.parentPage.jqmData("url");return e(":jqmData(url^='"+t+"&"+e.mobile.subPageUrlKey+"')")}}),e(n).bind("pagecreate create",function(t){e.mobile.listview.prototype.enhanceWithin(t.target)})}(e),function(e,t){e.widget("mobile.checkboxradio",e.mobile.widget,{options:{theme:null,mini:!1,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var i=this,a=this.element,o=this.options,r=function(e,t){return e.jqmData(t)||e.closest("form,fieldset").jqmData(t)},s=e(a).closest("label"),l=s.length?s:e(a).closest("form,fieldset,:jqmData(role='page'),:jqmData(role='dialog')").find("label").filter("[for='"+a[0].id+"']"),c=a[0].type,u=r(a,"mini")||o.mini,d=c+"-on",h=c+"-off",p=a.parents(":jqmData(type='horizontal')").length?t:h,f=r(a,"iconpos"),m=p?"":" "+e.mobile.activeBtnClass,g="ui-"+d+m,v="ui-"+h,b="ui-icon-"+d,y="ui-icon-"+h;if("checkbox"===c||"radio"===c){e.extend(this,{label:l,inputtype:c,checkedClass:g,uncheckedClass:v,checkedicon:b,uncheckedicon:y}),o.theme||(o.theme=e.mobile.getInheritedTheme(this.element,"c")),l.buttonMarkup({theme:o.theme,icon:p,shadow:!1,mini:u,iconpos:f});var x=n.createElement("div");x.className="ui-"+c,a.add(l).wrapAll(x),l.bind({vmouseover:function(t){e(this).parent().is(".ui-disabled")&&t.stopPropagation()},vclick:function(e){return a.is(":disabled")?(e.preventDefault(),void 0):(i._cacheVals(),a.prop("checked","radio"===c&&!0||!a.prop("checked")),a.triggerHandler("click"),i._getInputSet().not(a).prop("checked",!1),i._updateAll(),!1)}}),a.bind({vmousedown:function(){i._cacheVals()},vclick:function(){var t=e(this);t.is(":checked")?(t.prop("checked",!0),i._getInputSet().not(t).prop("checked",!1)):t.prop("checked",!1),i._updateAll()},focus:function(){l.addClass(e.mobile.focusClass)},blur:function(){l.removeClass(e.mobile.focusClass)}}),this.refresh()}},_cacheVals:function(){this._getInputSet().each(function(){e(this).jqmData("cacheVal",this.checked)})},_getInputSet:function(){return"checkbox"===this.inputtype?this.element:this.element.closest("form,fieldset,:jqmData(role='page')").find("input[name='"+this.element[0].name+"'][type='"+this.inputtype+"']")},_updateAll:function(){var t=this;this._getInputSet().each(function(){var n=e(this);(this.checked||"checkbox"===t.inputtype)&&n.trigger("change")}).checkboxradio("refresh")},refresh:function(){var e=this.element[0],t=this.label,n=t.find(".ui-icon");e.checked?(t.addClass(this.checkedClass).removeClass(this.uncheckedClass),n.addClass(this.checkedicon).removeClass(this.uncheckedicon)):(t.removeClass(this.checkedClass).addClass(this.uncheckedClass),n.removeClass(this.checkedicon).addClass(this.uncheckedicon)),e.disabled?this.disable():this.enable()},disable:function(){this.element.prop("disabled",!0).parent().addClass("ui-disabled")},enable:function(){this.element.prop("disabled",!1).parent().removeClass("ui-disabled")}}),e(n).bind("pagecreate create",function(t){e.mobile.checkboxradio.prototype.enhanceWithin(t.target,!0)})}(e),function(e,t){e.widget("mobile.button",e.mobile.widget,{options:{theme:null,icon:null,iconpos:null,corners:!0,shadow:!0,iconshadow:!0,initSelector:"button, [type='button'], [type='submit'], [type='reset'], [type='image']"},_create:function(){var i,a,o,r,s=this.element,l=this.options,c=l.inline||s.jqmData("inline"),u=l.mini||s.jqmData("mini"),d="";return"A"===s[0].tagName?(!s.hasClass("ui-btn")&&s.buttonMarkup(),void 0):(this.options.theme||(this.options.theme=e.mobile.getInheritedTheme(this.element,"c")),~s[0].className.indexOf("ui-btn-left")&&(d="ui-btn-left"),~s[0].className.indexOf("ui-btn-right")&&(d="ui-btn-right"),("submit"===s.attr("type")||"reset"===s.attr("type"))&&(d?d+=" ui-submit":d="ui-submit"),e("label[for='"+s.attr("id")+"']").addClass("ui-submit"),this.button=e("<div></div>").text(s.text()||s.val()).insertBefore(s).buttonMarkup({theme:l.theme,icon:l.icon,iconpos:l.iconpos,inline:c,corners:l.corners,shadow:l.shadow,iconshadow:l.iconshadow,mini:u}).addClass(d).append(s.addClass("ui-btn-hidden")),i=this.button,a=s.attr("type"),o=s.attr("name"),"button"!==a&&"reset"!==a&&o&&s.bind("vclick",function(){r===t&&(r=e("<input>",{type:"hidden",name:s.attr("name"),value:s.attr("value")}).insertBefore(s),e(n).one("submit",function(){r.remove(),r=t}))}),s.bind({focus:function(){i.addClass(e.mobile.focusClass)},blur:function(){i.removeClass(e.mobile.focusClass)}}),this.refresh(),void 0)},enable:function(){return this.element.attr("disabled",!1),this.button.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.button.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)},refresh:function(){var t=this.element;t.prop("disabled")?this.disable():this.enable(),e(this.button.data("buttonElements").text).text(t.text()||t.val())}}),e(n).bind("pagecreate create",function(t){e.mobile.button.prototype.enhanceWithin(t.target,!0)})}(e),function(e){e.fn.controlgroup=function(t){function n(e,t){e.removeClass("ui-btn-corner-all ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-controlgroup-last ui-shadow").eq(0).addClass(t[0]).end().last().addClass(t[1]).addClass("ui-controlgroup-last")}return this.each(function(){{var i=e(this),a=e.extend({direction:i.jqmData("type")||"vertical",shadow:!1,excludeInvisible:!0,mini:i.jqmData("mini")},t),o=i.children("legend"),r=i.children(".ui-controlgroup-label"),s=i.children(".ui-controlgroup-controls"),l="horizontal"===a.direction?["ui-corner-left","ui-corner-right"]:["ui-corner-top","ui-corner-bottom"];i.find("input").first().attr("type")}s.length&&s.contents().unwrap(),i.wrapInner("<div class='ui-controlgroup-controls'></div>"),o.length?(e("<div role='heading' class='ui-controlgroup-label'>"+o.html()+"</div>").insertBefore(i.children(0)),o.remove()):r.length&&i.prepend(r),i.addClass("ui-corner-all ui-controlgroup ui-controlgroup-"+a.direction),n(i.find(".ui-btn"+(a.excludeInvisible?":visible":"")).not(".ui-slider-handle"),l),n(i.find(".ui-btn-inner"),l),a.shadow&&i.addClass("ui-shadow"),a.mini&&i.addClass("ui-mini")})}}(e),function(e){e(n).bind("pagecreate create",function(t){e(t.target).find("a").jqmEnhanceable().not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})}(e),function(e){var t=e("meta[name=viewport]"),n=t.attr("content"),i=n+",maximum-scale=1, user-scalable=no",a=n+",maximum-scale=10, user-scalable=yes",o=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(n);e.mobile.zoom=e.extend({},{enabled:!o,locked:!1,disable:function(n){o||e.mobile.zoom.locked||(t.attr("content",i),e.mobile.zoom.enabled=!1,e.mobile.zoom.locked=n||!1)},enable:function(n){o||e.mobile.zoom.locked&&n!==!0||(t.attr("content",a),e.mobile.zoom.enabled=!0,e.mobile.zoom.locked=!1)},restore:function(){o||(t.attr("content",n),e.mobile.zoom.enabled=!0)}})}(e),function(e){e.widget("mobile.textinput",e.mobile.widget,{options:{theme:null,mini:!1,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type])",clearSearchButtonText:"clear text",disabled:!1},_create:function(){function i(){setTimeout(function(){o.toggleClass("ui-input-clear-hidden",!r.val())},0)}var a,o,r=this.element,s=this.options,l=s.theme||e.mobile.getInheritedTheme(this.element,"c"),c=" ui-body-"+l,u=s.mini?" ui-mini":"";if(e("label[for='"+r.attr("id")+"']").addClass("ui-input-text"),a=r.addClass("ui-input-text ui-body-"+l),"undefined"==typeof r[0].autocorrect||e.support.touchOverflow||(r[0].setAttribute("autocorrect","off"),r[0].setAttribute("autocomplete","off")),r.is("[type='search'],:jqmData(type='search')")?(a=r.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+c+u+"'></div>").parent(),o=e("<a href='#' class='ui-input-clear' title='"+s.clearSearchButtonText+"'>"+s.clearSearchButtonText+"</a>").bind("click",function(e){r.val("").focus().trigger("change"),o.addClass("ui-input-clear-hidden"),e.preventDefault()}).appendTo(a).buttonMarkup({icon:"delete",iconpos:"notext",corners:!0,shadow:!0,mini:s.mini}),i(),r.bind("paste cut keyup focus change blur",i)):r.addClass("ui-corner-all ui-shadow-inset"+c+u),r.focus(function(){a.addClass(e.mobile.focusClass)}).blur(function(){a.removeClass(e.mobile.focusClass)}).bind("focus",function(){s.preventFocusZoom&&e.mobile.zoom.disable(!0)}).bind("blur",function(){s.preventFocusZoom&&e.mobile.zoom.enable(!0)}),r.is("textarea")){var d,h=15,p=100,f=function(){var e=r[0].scrollHeight,t=r[0].clientHeight;e>t&&r.height(e+h)};r.keyup(function(){clearTimeout(d),d=setTimeout(f,p)}),e(n).one("pagechange",f),e.trim(r.val())&&e(t).load(f)}r.attr("disabled")&&this.disable()},disable:function(){var e;return e=this.element.attr("disabled",!0).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element,e.addClass("ui-disabled"),this._setOption("disabled",!0)},enable:function(){var e;return e=this.element.attr("disabled",!1).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element,e.removeClass("ui-disabled"),this._setOption("disabled",!1)}}),e(n).bind("pagecreate create",function(t){e.mobile.textinput.prototype.enhanceWithin(t.target,!0)})}(e),function(e){e.mobile.listview.prototype.options.filter=!1,e.mobile.listview.prototype.options.filterPlaceholder="Filter items...",e.mobile.listview.prototype.options.filterTheme="c",e.mobile.listview.prototype.options.filterCallback=function(e,t){return-1===e.toLowerCase().indexOf(t)},e(n).delegate("ul, ol","listviewcreate",function(){var t=e(this),n=t.data("listview");if(n.options.filter){{var i=e("<form>",{"class":"ui-listview-filter ui-bar-"+n.options.filterTheme,role:"search"});e("<input>",{placeholder:n.options.filterPlaceholder}).attr("data-"+e.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change",function(){var i,a=e(this),o=this.value.toLowerCase(),r=null,s=a.jqmData("lastval")+"",l=!1,c="";if(a.jqmData("lastval",o),r=o.length<s.length||0!==o.indexOf(s)?t.children():t.children(":not(.ui-screen-hidden)"),o){for(var u=r.length-1;u>=0;u--)i=e(r[u]),c=i.jqmData("filtertext")||i.text(),i.is("li:jqmData(role=list-divider)")?(i.toggleClass("ui-filter-hidequeue",!l),l=!1):n.options.filterCallback(c,o)?i.toggleClass("ui-filter-hidequeue",!0):l=!0;r.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",!1),r.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",!0).toggleClass("ui-filter-hidequeue",!1)}else r.toggleClass("ui-screen-hidden",!1);n._refreshCorners()}).appendTo(i).textinput()}n.options.inset&&i.addClass("ui-listview-filter-inset"),i.bind("submit",function(){return!1}).insertBefore(t)}})}(e),function(e,i){e.widget("mobile.slider",e.mobile.widget,{options:{theme:null,trackTheme:null,disabled:!1,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",mini:!1},_create:function(){var a,o=this,r=this.element,s=e.mobile.getInheritedTheme(r,"c"),l=this.options.theme||s,c=this.options.trackTheme||s,u=r[0].nodeName.toLowerCase(),d="select"==u?"ui-slider-switch":"",h=r.attr("id"),p=e("[for='"+h+"']"),f=p.attr("id")||h+"-label",m=p.attr("id",f),g=function(){return"input"==u?parseFloat(r.val()):r[0].selectedIndex},v="input"==u?parseFloat(r.attr("min")):0,b="input"==u?parseFloat(r.attr("max")):r.find("option").length-1,y=t.parseFloat(r.attr("step")||1),x=this.options.inline||1==r.jqmData("inline")?" ui-slider-inline":"",C=this.options.mini||r.jqmData("mini")?" ui-slider-mini":"",T=n.createElement("a"),w=e(T),E=n.createElement("div"),P=e(E),_=r.jqmData("highlight")&&"select"!=u?function(){var t=n.createElement("div");
return t.className="ui-slider-bg "+e.mobile.activeBtnClass+" ui-btn-corner-all",e(t).prependTo(P)}():!1;if(this._type=u,T.setAttribute("href","#"),E.setAttribute("role","application"),E.className=["ui-slider ",d," ui-btn-down-",c," ui-btn-corner-all",x,C].join(""),T.className="ui-slider-handle",E.appendChild(T),w.buttonMarkup({corners:!0,theme:l,shadow:!0}).attr({role:"slider","aria-valuemin":v,"aria-valuemax":b,"aria-valuenow":g(),"aria-valuetext":g(),title:g(),"aria-labelledby":f}),e.extend(this,{slider:P,handle:w,valuebg:_,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1}),"select"==u){var D=n.createElement("div");D.className="ui-slider-inneroffset";for(var k=0,S=E.childNodes.length;S>k;k++)D.appendChild(E.childNodes[k]);E.appendChild(D),w.addClass("ui-slider-handle-snapping"),a=r.find("option");for(var N=0,A=a.length;A>N;N++){var I=N?"a":"b",j=N?" "+e.mobile.activeBtnClass:" ui-btn-down-"+c,q=(n.createElement("div"),n.createElement("span"));q.className=["ui-slider-label ui-slider-label-",I,j," ui-btn-corner-all"].join(""),q.setAttribute("role","img"),q.appendChild(n.createTextNode(a[N].innerHTML)),e(q).prependTo(P)}o._labels=e(".ui-slider-label",P)}m.addClass("ui-slider"),r.addClass("input"===u?"ui-slider-input":"ui-slider-switch").change(function(){o.mouseMoved||o.refresh(g(),!0)}).keyup(function(){o.refresh(g(),!0,!0)}).blur(function(){o.refresh(g(),!0)}),e(n).bind("vmousemove",function(e){return o.dragging&&!o.options.disabled?(o.mouseMoved=!0,"select"===u&&w.removeClass("ui-slider-handle-snapping"),o.refresh(e),o.userModified=o.beforeStart!==r[0].selectedIndex,!1):void 0}),r.bind("vmouseup",e.proxy(o._checkedRefresh,o)),P.bind("vmousedown",function(e){return o.options.disabled?!1:(o.dragging=!0,o.userModified=!1,o.mouseMoved=!1,"select"===u&&(o.beforeStart=r[0].selectedIndex),o.refresh(e),!1)}).bind("vclick",!1),P.add(n).bind("vmouseup",function(){return o.dragging?(o.dragging=!1,"select"===u&&(w.addClass("ui-slider-handle-snapping"),o.mouseMoved?o.userModified?o.refresh(0==o.beforeStart?1:0):o.refresh(o.beforeStart):o.refresh(0==o.beforeStart?1:0)),o.mouseMoved=!1,!1):void 0}),P.insertAfter(r),"select"==u&&this.handle.bind({focus:function(){P.addClass(e.mobile.focusClass)},blur:function(){P.removeClass(e.mobile.focusClass)}}),this.handle.bind({vmousedown:function(){e(this).focus()},vclick:!1,keydown:function(t){var n=g();if(!o.options.disabled){switch(t.keyCode){case e.mobile.keyCode.HOME:case e.mobile.keyCode.END:case e.mobile.keyCode.PAGE_UP:case e.mobile.keyCode.PAGE_DOWN:case e.mobile.keyCode.UP:case e.mobile.keyCode.RIGHT:case e.mobile.keyCode.DOWN:case e.mobile.keyCode.LEFT:t.preventDefault(),o._keySliding||(o._keySliding=!0,e(this).addClass("ui-state-active"))}switch(t.keyCode){case e.mobile.keyCode.HOME:o.refresh(v);break;case e.mobile.keyCode.END:o.refresh(b);break;case e.mobile.keyCode.PAGE_UP:case e.mobile.keyCode.UP:case e.mobile.keyCode.RIGHT:o.refresh(n+y);break;case e.mobile.keyCode.PAGE_DOWN:case e.mobile.keyCode.DOWN:case e.mobile.keyCode.LEFT:o.refresh(n-y)}}},keyup:function(){o._keySliding&&(o._keySliding=!1,e(this).removeClass("ui-state-active"))}}),this.refresh(i,i,!0)},_checkedRefresh:function(){this.value!=this._value()&&(this.refresh(this._value()),this.value=this._value())},_value:function(){return"input"===this._type?parseFloat(this.element.val()):this.element[0].selectedIndex},refresh:function(t,n,i){(this.options.disabled||this.element.attr("disabled"))&&this.disable();var a,o=this.element,r=o[0].nodeName.toLowerCase(),s="input"===r?parseFloat(o.attr("min")):0,l="input"===r?parseFloat(o.attr("max")):o.find("option").length-1,c="input"===r&&parseFloat(o.attr("step"))>0?parseFloat(o.attr("step")):1;if("object"==typeof t){var u=t,d=8;if(!this.dragging||u.pageX<this.slider.offset().left-d||u.pageX>this.slider.offset().left+this.slider.width()+d)return;a=Math.round((u.pageX-this.slider.offset().left)/this.slider.width()*100)}else null==t&&(t="input"===r?parseFloat(o.val()||0):o[0].selectedIndex),a=(parseFloat(t)-s)/(l-s)*100;if(!isNaN(a)){0>a&&(a=0),a>100&&(a=100);var h=a/100*(l-s)+s,p=(h-s)%c,f=h-p;if(2*Math.abs(p)>=c&&(f+=p>0?c:-c),h=parseFloat(f.toFixed(5)),s>h&&(h=s),h>l&&(h=l),this.handle.css("left",a+"%"),this.handle.attr({"aria-valuenow":"input"===r?h:o.find("option").eq(h).attr("value"),"aria-valuetext":"input"===r?h:o.find("option").eq(h).getEncodedText(),title:"input"===r?h:o.find("option").eq(h).getEncodedText()}),this.valuebg&&this.valuebg.css("width",a+"%"),this._labels){var m=this.handle.width()/this.slider.width()*100,g=a&&m+(100-m)*a/100,v=100===a?0:Math.min(m+100-g,100);this._labels.each(function(){var t=e(this).is(".ui-slider-label-a");e(this).width((t?g:v)+"%")})}if(!i){var b=!1;"input"===r?(b=o.val()!==h,o.val(h)):(b=o[0].selectedIndex!==h,o[0].selectedIndex=h),!n&&b&&o.trigger("change")}}},enable:function(){return this.element.attr("disabled",!1),this.slider.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.slider.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)}}),e(n).bind("pagecreate create",function(t){e.mobile.slider.prototype.enhanceWithin(t.target,!0)})}(e),function(e){e.widget("mobile.selectmenu",e.mobile.widget,{options:{theme:null,disabled:!1,icon:"arrow-d",iconpos:"right",inline:!1,corners:!0,shadow:!0,iconshadow:!0,overlayTheme:"a",hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"select:not(:jqmData(role='slider'))",mini:!1},_button:function(){return e("<div/>")},_setDisabled:function(e){return this.element.attr("disabled",e),this.button.attr("aria-disabled",e),this._setOption("disabled",e)},_focusButton:function(){var e=this;setTimeout(function(){e.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var t="";~this.element[0].className.indexOf("ui-btn-left")&&(t=" ui-btn-left"),~this.element[0].className.indexOf("ui-btn-right")&&(t=" ui-btn-right"),this.select=this.element.wrap("<div class='ui-select"+t+"'>"),this.selectID=this.select.attr("id"),this.label=e("label[for='"+this.selectID+"']").addClass("ui-select"),this.isMultiple=this.select[0].multiple,this.options.theme||(this.options.theme=e.mobile.getInheritedTheme(this.select,"c"))},_create:function(){this._preExtension(),this._trigger("beforeCreate"),this.button=this._button();var n=this,i=this.options,a=i.inline||this.select.jqmData("inline"),o=i.mini||this.select.jqmData("mini"),r=i.icon?i.iconpos||this.select.jqmData("iconpos"):!1,s=(-1==this.select[0].selectedIndex?0:this.select[0].selectedIndex,this.button.insertBefore(this.select).buttonMarkup({theme:i.theme,icon:i.icon,iconpos:r,inline:a,corners:i.corners,shadow:i.shadow,iconshadow:i.iconshadow,mini:o}));this.setButtonText(),i.nativeMenu&&t.opera&&t.opera.version&&s.addClass("ui-select-nativeonly"),this.isMultiple&&(this.buttonCount=e("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(s.addClass("ui-li-has-count"))),(i.disabled||this.element.attr("disabled"))&&this.disable(),this.select.change(function(){n.refresh()}),this.build()},build:function(){var t=this;this.select.appendTo(t.button).bind("vmousedown",function(){t.button.addClass(e.mobile.activeBtnClass)}).bind("focus",function(){t.button.addClass(e.mobile.focusClass)}).bind("blur",function(){t.button.removeClass(e.mobile.focusClass)}).bind("focus vmouseover",function(){t.button.trigger("vmouseover")}).bind("vmousemove",function(){t.button.removeClass(e.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){t.button.trigger("vmouseout").removeClass(e.mobile.activeBtnClass)}).bind("change blur",function(){t.button.removeClass("ui-btn-down-"+t.options.theme)}),t.button.bind("vmousedown",function(){t.options.preventFocusZoom&&e.mobile.zoom.disable(!0)}),t.label.bind("click focus",function(){t.options.preventFocusZoom&&e.mobile.zoom.disable(!0)}),t.select.bind("focus",function(){t.options.preventFocusZoom&&e.mobile.zoom.disable(!0)}),t.button.bind("mouseup",function(){t.options.preventFocusZoom&&setTimeout(function(){e.mobile.zoom.enable(!0)},0)}),t.select.bind("blur",function(){t.options.preventFocusZoom&&e.mobile.zoom.enable(!0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var e=this;return this.selected().map(function(){return e._selectOptions().index(this)}).get()},setButtonText:function(){var t=this,i=this.selected(),a=this.placeholder,o=e(n.createElement("span"));this.button.find(".ui-btn-text").html(function(){return a=i.length?i.map(function(){return e(this).text()}).get().join(", "):t.placeholder,o.text(a).addClass(t.select.attr("class")).addClass(i.attr("class"))})},setButtonCount:function(){var e=this.selected();this.isMultiple&&this.buttonCount[e.length>1?"show":"hide"]().text(e.length)},refresh:function(){this.setButtonText(),this.setButtonCount()},open:e.noop,close:e.noop,disable:function(){this._setDisabled(!0),this.button.addClass("ui-disabled")},enable:function(){this._setDisabled(!1),this.button.removeClass("ui-disabled")}}),e(n).bind("pagecreate create",function(t){e.mobile.selectmenu.prototype.enhanceWithin(t.target,!0)})}(e),function(e){var i=function(i){var a,o,r,s=(i.select,i.selectID),l=i.label,c=i.select.closest(".ui-page"),u=e("<div>",{"class":"ui-selectmenu-screen ui-screen-hidden"}).appendTo(c),d=i._selectOptions(),h=i.isMultiple=i.select[0].multiple,p=s+"-button",f=s+"-menu",m=e("<div data-"+e.mobile.ns+"role='dialog' data-"+e.mobile.ns+"theme='"+i.options.theme+"' data-"+e.mobile.ns+"overlay-theme='"+i.options.overlayTheme+"'><div data-"+e.mobile.ns+"role='header'><div class='ui-title'>"+l.getEncodedText()+"</div></div><div data-"+e.mobile.ns+"role='content'></div></div>"),g=e("<div>",{"class":"ui-selectmenu ui-selectmenu-hidden ui-overlay-shadow ui-corner-all ui-body-"+i.options.overlayTheme+" "+e.mobile.defaultDialogTransition}).insertAfter(u),v=e("<ul>",{"class":"ui-selectmenu-list",id:f,role:"listbox","aria-labelledby":p}).attr("data-"+e.mobile.ns+"theme",i.options.theme).appendTo(g),b=e("<div>",{"class":"ui-header ui-bar-"+i.options.theme}).prependTo(g),y=e("<h1>",{"class":"ui-title"}).appendTo(b);i.isMultiple&&(r=e("<a>",{text:i.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+e.mobile.ns+"iconpos","notext").attr("data-"+e.mobile.ns+"icon","delete").appendTo(b).buttonMarkup()),e.extend(i,{select:i.select,selectID:s,buttonId:p,menuId:f,thisPage:c,menuPage:m,label:l,screen:u,selectOptions:d,isMultiple:h,theme:i.options.theme,listbox:g,list:v,header:b,headerTitle:y,headerClose:r,menuPageContent:a,menuPageClose:o,placeholder:"",build:function(){var t=this;t.refresh(),t.select.attr("tabindex","-1").focus(function(){e(this).blur(),t.button.focus()}),t.button.bind("vclick keydown",function(n){("vclick"==n.type||n.keyCode&&(n.keyCode===e.mobile.keyCode.ENTER||n.keyCode===e.mobile.keyCode.SPACE))&&(t.open(),n.preventDefault())}),t.list.attr("role","listbox").bind("focusin",function(t){e(t.target).attr("tabindex","0").trigger("vmouseover")}).bind("focusout",function(t){e(t.target).attr("tabindex","-1").trigger("vmouseout")}).delegate("li:not(.ui-disabled, .ui-li-divider)","click",function(n){var a=t.select[0].selectedIndex,o=t.list.find("li:not(.ui-li-divider)").index(this),r=t._selectOptions().eq(o)[0];r.selected=t.isMultiple?!r.selected:!0,t.isMultiple&&e(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",r.selected).toggleClass("ui-icon-checkbox-off",!r.selected),(t.isMultiple||a!==o)&&t.select.trigger("change"),t.isMultiple?t.list.find("li:not(.ui-li-divider)").eq(o).addClass("ui-btn-down-"+i.options.theme).find("a").first().focus():t.close(),n.preventDefault()}).keydown(function(t){var n,a,o=e(t.target),r=o.closest("li");switch(t.keyCode){case 38:return n=r.prev().not(".ui-selectmenu-placeholder"),n.is(".ui-li-divider")&&(n=n.prev()),n.length&&(o.blur().attr("tabindex","-1"),n.addClass("ui-btn-down-"+i.options.theme).find("a").first().focus()),!1;case 40:return a=r.next(),a.is(".ui-li-divider")&&(a=a.next()),a.length&&(o.blur().attr("tabindex","-1"),a.addClass("ui-btn-down-"+i.options.theme).find("a").first().focus()),!1;case 13:case 32:return o.trigger("click"),!1}}),t.menuPage.bind("pagehide",function(){t.list.appendTo(t.listbox),t._focusButton(),e.mobile._bindPageRemove.call(t.thisPage)}),t.screen.bind("vclick",function(){t.close()}),t.isMultiple&&t.headerClose.click(function(){return"overlay"==t.menuType?(t.close(),!1):void 0}),t.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var e=this.list.find("li"),t=this._selectOptions();return t.text()!==e.text()},selected:function(){return this._selectOptions().filter(":selected:not(:jqmData(placeholder='true'))")},refresh:function(t){{var n,i=this;this.element,this.isMultiple}(t||this._isRebuildRequired())&&i._buildList(),n=this.selectedIndices(),i.setButtonText(),i.setButtonCount(),i.list.find("li:not(.ui-li-divider)").removeClass(e.mobile.activeBtnClass).attr("aria-selected",!1).each(function(t){if(e.inArray(t,n)>-1){var a=e(this);a.attr("aria-selected",!0),i.isMultiple?a.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on"):a.is(".ui-selectmenu-placeholder")?a.next().addClass(e.mobile.activeBtnClass):a.addClass(e.mobile.activeBtnClass)}})},close:function(){if(!this.options.disabled&&this.isOpen){var t=this;"page"==t.menuType?e.mobile.back():(t.screen.addClass("ui-screen-hidden"),t.listbox.addClass("ui-selectmenu-hidden").removeAttr("style").removeClass("in"),t.list.appendTo(t.listbox),t._focusButton()),t.isOpen=!1}},open:function(){function a(){var t=o.list.find("."+e.mobile.activeBtnClass+" a");0===t.length&&(t=o.list.find("li.ui-btn:not(:jqmData(placeholder='true')) a")),t.first().focus().closest("li").addClass("ui-btn-down-"+i.options.theme)}if(!this.options.disabled){var o=this,r=e(t),s=o.list.parent(),l=s.outerHeight(),c=s.outerWidth(),u=(e(".ui-page-active"),r.scrollTop()),d=o.button.offset().top,h=r.height(),p=r.width();if(o.button.addClass(e.mobile.activeBtnClass),setTimeout(function(){o.button.removeClass(e.mobile.activeBtnClass)},300),l>h-80||!e.support.scrollTop)o.menuPage.appendTo(e.mobile.pageContainer).page(),o.menuPageContent=m.find(".ui-content"),o.menuPageClose=m.find(".ui-header a"),o.thisPage.unbind("pagehide.remove"),0==u&&d>h&&o.thisPage.one("pagehide",function(){e(this).jqmData("lastScroll",d)}),o.menuPage.one("pageshow",function(){a(),o.isOpen=!0}).one("pagehide",function(){o.isOpen=!1}),o.menuType="page",o.menuPageContent.append(o.list),o.menuPage.find("div .ui-title").text(o.label.text()),e.mobile.changePage(o.menuPage,{transition:e.mobile.defaultDialogTransition});else{o.menuType="overlay",o.screen.height(e(n).height()).removeClass("ui-screen-hidden");var f,g,v=d-u,b=u+h-d,y=l/2,x=parseFloat(o.list.parent().css("max-width"));f=v>l/2&&b>l/2?d+o.button.outerHeight()/2-y:v>b?u+h-l-30:u+30,x>c?g=(p-c)/2:(g=o.button.offset().left+o.button.outerWidth()/2-c/2,30>g?g=30:g+c>p&&(g=p-c-30)),o.listbox.append(o.list).removeClass("ui-selectmenu-hidden").css({top:f,left:g}).addClass("in"),a(),o.isOpen=!0}}},_buildList:function(){var t=this,i=this.options,a=this.placeholder,o=!0,r=t.isMultiple?"checkbox-off":"false";t.list.empty().filter(".ui-listview").listview("destroy");for(var s,l=t.select.find("option"),c=l.length,u=this.select[0],d="data-"+e.mobile.ns,h=d+"option-index",p=d+"icon",f=d+"role",m=d+"placeholder",g=n.createDocumentFragment(),v=!1,b=0;c>b;b++,v=!1){var y=l[b],x=e(y),C=y.parentNode,T=x.text(),w=n.createElement("a"),E=[];if(w.setAttribute("href","#"),w.appendChild(n.createTextNode(T)),C!==u&&"optgroup"===C.nodeName.toLowerCase()){var P=C.getAttribute("label");if(P!=s){var _=n.createElement("li");_.setAttribute(f,"list-divider"),_.setAttribute("role","option"),_.setAttribute("tabindex","-1"),_.appendChild(n.createTextNode(P)),g.appendChild(_),s=P}}!o||y.getAttribute("value")&&0!=T.length&&!x.jqmData("placeholder")||(o=!1,v=!0,y.setAttribute(m,!0),i.hidePlaceholderMenuItems&&E.push("ui-selectmenu-placeholder"),a||(a=t.placeholder=T));var D=n.createElement("li");y.disabled&&(E.push("ui-disabled"),D.setAttribute("aria-disabled",!0)),D.setAttribute(h,b),D.setAttribute(p,r),v&&D.setAttribute(m,!0),D.className=E.join(" "),D.setAttribute("role","option"),w.setAttribute("tabindex","-1"),D.appendChild(w),g.appendChild(D)}t.list[0].appendChild(g),this.isMultiple||a.length?this.headerTitle.text(this.placeholder):this.header.hide(),t.list.listview()},_button:function(){return e("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})}})};e(n).bind("selectmenubeforecreate",function(t){var n=e(t.target).data("selectmenu");n.options.nativeMenu||i(n)})}(e),function(e){e.widget("mobile.fixedtoolbar",e.mobile.widget,{options:{visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed",hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){var e=t,n=navigator.userAgent,i=navigator.platform,a=n.match(/AppleWebKit\/([0-9]+)/),o=!!a&&a[1],r=n.match(/Fennec\/([0-9]+)/),s=!!r&&r[1],l=n.match(/Opera Mobi\/([0-9]+)/),c=!!l&&l[1];return(i.indexOf("iPhone")>-1||i.indexOf("iPad")>-1||i.indexOf("iPod")>-1)&&o&&534>o||e.operamini&&"[object OperaMini]"==={}.toString.call(e.operamini)||l&&7458>c||n.indexOf("Android")>-1&&o&&533>o||s&&6>s||"palmGetResource"in t&&o&&534>o||n.indexOf("MeeGo")>-1&&n.indexOf("NokiaBrowser/8.5.0")>-1?!0:!1},initSelector:":jqmData(position='fixed')"},_create:function(){var e=this,t=e.options,n=e.element,i=n.is(":jqmData(role='header')")?"header":"footer",a=n.closest(".ui-page");return t.supportBlacklist()?(e.destroy(),void 0):(n.addClass("ui-"+i+"-fixed"),t.fullscreen?(n.addClass("ui-"+i+"-fullscreen"),a.addClass("ui-page-"+i+"-fullscreen")):a.addClass("ui-page-"+i+"-fixed"),e._addTransitionClass(),e._bindPageEvents(),e._bindToggleHandlers(),void 0)},_addTransitionClass:function(){var e=this.options.transition;e&&"none"!==e&&("slide"===e&&(e=this.element.is(".ui-header")?"slidedown":"slideup"),this.element.addClass(e))},_bindPageEvents:function(){var n=this,i=n.options,a=n.element;a.closest(".ui-page").bind("pagebeforeshow",function(){i.disablePageZoom&&e.mobile.zoom.disable(!0),i.visibleOnPageShow||n.hide(!0)}).bind("webkitAnimationStart animationstart updatelayout",function(){var e=this;i.updatePagePadding&&n.updatePagePadding(e)}).bind("pageshow",function(){var a=this;n.updatePagePadding(a),i.updatePagePadding&&e(t).bind("throttledresize."+n.widgetName,function(){n.updatePagePadding(a)})}).bind("pagebeforehide",function(a,o){if(i.disablePageZoom&&e.mobile.zoom.enable(!0),i.updatePagePadding&&e(t).unbind("throttledresize."+n.widgetName),i.trackPersistentToolbars){var r=e(".ui-footer-fixed:jqmData(id)",this),s=e(".ui-header-fixed:jqmData(id)",this),l=r.length&&o.nextPage&&e(".ui-footer-fixed:jqmData(id='"+r.jqmData("id")+"')",o.nextPage),c=s.length&&o.nextPage&&e(".ui-header-fixed:jqmData(id='"+s.jqmData("id")+"')",o.nextPage);l=l||e(),(l.length||c.length)&&(l.add(c).appendTo(e.mobile.pageContainer),o.nextPage.one("pageshow",function(){l.add(c).appendTo(this)}))}})},_visible:!0,updatePagePadding:function(t){var n=this.element,i=n.is(".ui-header");this.options.fullscreen||(t=t||n.closest(".ui-page"),e(t).css("padding-"+(i?"top":"bottom"),n.outerHeight()))},_useTransition:function(n){var i=e(t),a=this.element,o=i.scrollTop(),r=a.height(),s=a.closest(".ui-page").height(),l=e.mobile.getScreenHeight(),c=a.is(":jqmData(role='header')")?"header":"footer";return!n&&(this.options.transition&&"none"!==this.options.transition&&("header"===c&&!this.options.fullscreen&&o>r||"footer"===c&&!this.options.fullscreen&&s-r>o+l)||this.options.fullscreen)},show:function(e){var t="ui-fixed-hidden",n=this.element;this._useTransition(e)?n.removeClass("out "+t).addClass("in"):n.removeClass(t),this._visible=!0},hide:function(e){var t="ui-fixed-hidden",n=this.element,i="out"+("slide"===this.options.transition?" reverse":"");this._useTransition(e)?n.addClass(i).removeClass("in").animationComplete(function(){n.addClass(t).removeClass(i)}):n.addClass(t).removeClass(i),this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var t=this,n=t.options,i=t.element;i.closest(".ui-page").bind("vclick",function(i){n.tapToggle&&!e(i.target).closest(n.tapToggleBlacklist).length&&t.toggle()}).bind("focusin focusout",function(i){screen.width<500&&e(i.target).is(n.hideDuringFocus)&&!e(i.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&t["focusin"===i.type&&t._visible?"hide":"show"]()})},destroy:function(){var e=this.element,t=e.is(".ui-header");e.closest(".ui-page").css("padding-"+(t?"top":"bottom"),""),e.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden"),e.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen")}}),e(n).bind("pagecreate create",function(t){e(t.target).jqmData("fullscreen")&&e(e.mobile.fixedtoolbar.prototype.options.initSelector,t.target).not(":jqmData(fullscreen)").jqmData("fullscreen",!0),e.mobile.fixedtoolbar.prototype.enhanceWithin(t.target)})}(e),function(e,t){function n(e){i=e.originalEvent,s=i.accelerationIncludingGravity,a=Math.abs(s.x),o=Math.abs(s.y),r=Math.abs(s.z),!t.orientation&&(a>7||(r>6&&8>o||8>r&&o>6)&&a>5)?l.enabled&&l.disable():l.enabled||l.enable()}if(/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1){var i,a,o,r,s,l=e.mobile.zoom;e(t).bind("orientationchange.iosorientationfix",l.enable).bind("devicemotion.iosorientationfix",n)}}(e,this),function(e,t){function i(){var t=e("."+e.mobile.activeBtnClass).first();c.css({top:e.support.scrollTop&&s.scrollTop()+s.height()/2||t.length&&t.offset().top||100})}function a(){var t=c.offset(),n=s.scrollTop(),o=e.mobile.getScreenHeight();(t.top<n||t.top-n>o)&&(c.addClass("ui-loader-fakefix"),i(),s.unbind("scroll",a).bind("scroll",i))}function o(){r.removeClass("ui-mobile-rendering")}var r=e("html"),s=(e("head"),e(t));if(e(t.document).trigger("mobileinit"),e.mobile.gradeA()){e.mobile.ajaxBlacklist&&(e.mobile.ajaxEnabled=!1),r.addClass("ui-mobile ui-mobile-rendering"),setTimeout(o,5e3);var l="ui-loader",c=e("<div class='"+l+"'><span class='ui-icon ui-icon-loading'></span><h1></h1></div>");e.extend(e.mobile,{showPageLoadingMsg:function(t,n,i){if(r.addClass("ui-loading"),e.mobile.loadingMessage){var o=i||e.mobile.loadingMessageTextVisible;t=t||e.mobile.loadingMessageTheme,c.attr("class",l+" ui-corner-all ui-body-"+(t||"a")+" ui-loader-"+(o?"verbose":"default")+(i?" ui-loader-textonly":"")).find("h1").text(n||e.mobile.loadingMessage).end().appendTo(e.mobile.pageContainer),a(),s.bind("scroll",a)}},hidePageLoadingMsg:function(){r.removeClass("ui-loading"),e.mobile.loadingMessage&&c.removeClass("ui-loader-fakefix"),e(t).unbind("scroll",i),e(t).unbind("scroll",a)},initializePage:function(){var t=e(":jqmData(role='page'), :jqmData(role='dialog')");t.length||(t=e("body").wrapInner("<div data-"+e.mobile.ns+"role='page'></div>").children(0)),t.each(function(){var t=e(this);t.jqmData("url")||t.attr("data-"+e.mobile.ns+"url",t.attr("id")||location.pathname+location.search)}),e.mobile.firstPage=t.first(),e.mobile.pageContainer=t.first().parent().addClass("ui-mobile-viewport"),s.trigger("pagecontainercreate"),e.mobile.showPageLoadingMsg(),o(),e.mobile.hashListeningEnabled&&e.mobile.path.isHashValid(location.hash)&&(e(location.hash+':jqmData(role="page")').length||e.mobile.path.isPath(location.hash))?s.trigger("hashchange",[!0]):e.mobile.changePage(e.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0})}}),e.mobile.navreadyDeferred.resolve(),e(function(){t.scrollTo(0,1),e.mobile.defaultHomeScroll=e.support.scrollTop&&1!==e(t).scrollTop()?1:0,e.fn.controlgroup&&e(n).bind("pagecreate create",function(t){e(":jqmData(role='controlgroup')",t.target).jqmEnhanceable().controlgroup({excludeInvisible:!1})}),e.mobile.autoInitializePage&&e.mobile.initializePage(),s.load(e.mobile.silentScroll),e.support.cssPointerEvents||e(n).delegate(".ui-disabled","vclick",function(e){e.preventDefault(),e.stopImmediatePropagation()})})}}(e,this)});